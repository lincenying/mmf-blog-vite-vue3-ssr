import{_ as A}from"./a-input.vue_vue_type_script_setup_true_lang-CRaCe_Fj.js";import{d as V,x as T,J as h,y as B,F as C,q as R,h as S,ae as N,r as U,a2 as D,K as F,o as I,c as L,a,L as l,M as m,w as p,u as n,G as c,a5 as P}from"./vendor-jIaj2nu_.js";import{u as g}from"./use-backend-admin-store-B8L3vZAr.js";import{s as w,c as $}from"./main-IxFLig3x.js";/* empty css               */const j={class:"card settings-main"},q={class:"settings-main-content"},E={class:"settings-footer"},O=V({name:"BackendAdminModify",asyncData(f){const{store:u,route:r,api:d}=f;return g(u).getAdminItem({id:r.params.id,path:r.fullPath},d)},__name:"backend-admin-modify",setup(f){const u=T(),r=h(),d=g(),_=B(d),y=C(_,"item"),[v,b]=R(!1),t=S({id:u.params.id,username:"",email:"",password:""});N(y.value,s=>{s.data&&(t.username=s.data.username,t.email=s.data.email)});async function x(){if(!t.username||!t.email){w("请将表单填写完整!");return}if(v.value)return;b(!0);const{code:s,data:e,message:o}=await $.post("backend/admin/modify",t);b(!1),s===200&&(w({type:"success",content:o}),d.updateAdminItem(e),r.push("/backend/admin/list"))}const k=U("编辑管理员 - M.M.F 小屋");return D({title:k,meta:[{name:"description",content:k}]}),(s,e)=>{const o=A,M=F("router-link");return I(),L("div",j,[a("div",q,[a("form",null,[l(o,{title:"昵称"},{default:m(()=>[p(a("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>n(t).username=i),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[c,n(t).username]]),e[3]||(e[3]=a("span",{class:"input-info error"},"请输入昵称",-1))]),_:1}),l(o,{title:"邮箱"},{default:m(()=>[p(a("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>n(t).email=i),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[c,n(t).email]]),e[4]||(e[4]=a("span",{class:"input-info error"},"请输入邮箱",-1))]),_:1}),l(o,{title:"密码"},{default:m(()=>[p(a("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>n(t).password=i),type:"password",placeholder:"密码",class:"base-input",name:"password"},null,512),[[c,n(t).password]]),e[5]||(e[5]=a("span",{class:"input-info error"},"请输入密码",-1))]),_:1})])]),a("div",E,[a("a",{href:"javascript:;",class:"btn btn-yellow",onClick:x},"编辑管理员"),l(M,{to:"/backend/admin/list",class:"btn btn-blue"},{default:m(()=>e[6]||(e[6]=[P("返回")])),_:1})])])}}});export{O as default};
