import{_ as k}from"./a-input.vue_vue_type_script_setup_true_lang-oFZQFnI9.js";import{d as w,N as C,s as x,t as h,l as M,A as B,U as I,I as T,r as V,o as N,c as R,b as a,e as u,w as m,G as p,p as r,H as _,C as f,D as U}from"./main-CTY4IKlK.js";import{u as D}from"./use-global-category-store-CvhW7WrR.js";import{u as H}from"./vue.8fc199ce-Bmv443Wm.js";const S={class:"settings-main card"},$={class:"settings-main-content"},L=w({name:"BackendCategoryInsert",__name:"backend-category-insert",setup(j){const g=C(),i=D(),v=x(i),n=h(v,"item"),[y,d]=M(!1),e=B({cate_name:"",cate_order:""});I(n.value,s=>{s.data&&(e.cate_name=s.data.cate_name,e.cate_order=s.data.cate_order)}),T(()=>{n.value&&n.value.data&&(e.cate_name=n.value.data.cate_name,e.cate_order=n.value.data.cate_order)});async function b(){if(!e.cate_name||!e.cate_order){f("请将表单填写完整!");return}if(y.value)return;d(!0);const{code:s,data:t,message:o}=await U.post("backend/category/insert",e);d(!1),s===200&&(f({type:"success",content:o}),i.insertCategoryItem({...e,...t}),g.push("/backend/category/list"))}const l=V("添加分类 - M.M.F 小屋");return H({title:l,meta:[{name:"description",content:l}]}),(s,t)=>{const o=k;return N(),R("div",S,[a("div",$,[u(o,{title:"分类名称"},{default:m(()=>[p(a("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>r(e).cate_name=c),type:"text",placeholder:"分类名称",class:"base-input",name:"cate_name"},null,512),[[_,r(e).cate_name]]),t[2]||(t[2]=a("span",{class:"input-info error"},"请输入分类名称",-1))]),_:1}),u(o,{title:"分类排序"},{default:m(()=>[p(a("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>r(e).cate_order=c),type:"text",placeholder:"分类排序",class:"base-input",name:"cate_order"},null,512),[[_,r(e).cate_order]]),t[3]||(t[3]=a("span",{class:"input-info error"},"请输入分类排序",-1))]),_:1})]),a("div",{class:"settings-footer"},[a("a",{href:"javascript:;",class:"btn btn-yellow",onClick:b},"添加分类")])])}}});export{L as default};
