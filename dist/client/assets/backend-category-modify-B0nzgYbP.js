import{_ as h}from"./a-input.vue_vue_type_script_setup_true_lang-B_aRafhe.js";import{d as w,y as T,F as V,q as B,h as N,x as R,ae as S,g as D,r as F,a2 as I,c as P,o as U,b as a,J as l,K as u,w as g,G as y,u as i,a5 as $,M as j,N as q}from"./vendor-CjYDLnoj.js";import{u as b}from"./use-global-category-store-DRAtkSnO.js";import{s as k,c as E}from"./main-DSyQ4RNn.js";/* empty css               */const G={class:"settings-main card"},H={class:"settings-main-content"},J={class:"settings-footer"},Q=w({name:"BackendCategoryModify",asyncData(m){const{store:c,route:s,api:n}=m;return b(c).getCategoryItem({path:s.fullPath,id:s.params.id},n)},__name:"backend-category-modify",setup(m){const c=R(),s=q(),n=b(),p=T(n),C=V(p,"item"),[v,_]=B(!1),t=N({id:c.params.id,cate_name:"",cate_order:""});S(C.value,o=>{o.data&&(t.cate_name=o.data.cate_name,t.cate_order=o.data.cate_order)},{immediate:!0}),D(async()=>{});async function x(){if(!t.cate_name||!t.cate_order){k("请将表单填写完整!");return}if(v.value)return;_(!0);const{code:o,data:e,message:r}=await E.post("backend/category/modify",t);_(!1),o===200&&(k({type:"success",content:r}),n.updateCategoryItem(e),s.push("/backend/category/list"))}const f=F("编辑分类 - M.M.F 小屋");return I({title:f,meta:[{name:"description",content:f}]}),(o,e)=>{const r=h,M=j("router-link");return U(),P("div",G,[a("div",H,[l(r,{title:"分类名称"},{default:u(()=>[g(a("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>i(t).cate_name=d),type:"text",placeholder:"分类名称",class:"base-input",name:"cate_name"},null,512),[[y,i(t).cate_name]]),e[2]||(e[2]=a("span",{class:"input-info error"},"请输入分类名称",-1))]),_:1}),l(r,{title:"分类排序"},{default:u(()=>[g(a("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>i(t).cate_order=d),type:"text",placeholder:"分类排序",class:"base-input",name:"cate_order"},null,512),[[y,i(t).cate_order]]),e[3]||(e[3]=a("span",{class:"input-info error"},"请输入分类排序",-1))]),_:1})]),a("div",J,[a("a",{href:"javascript:;",class:"btn btn-yellow",onClick:x},"编辑分类"),l(M,{to:"/backend/category/list",class:"btn btn-blue"},{default:u(()=>[...e[4]||(e[4]=[$("返回",-1)])]),_:1})])])}}});export{Q as default};
