import{_ as w}from"./a-input.vue_vue_type_script_setup_true_lang-gsShgKbE.js";import{d as x,s as B,B as T,w as V,h as R,q as S,ah as N,o as D,r as F,a2 as I,c as L,g as a,K as l,L as u,M as P,J as U,f as $,F as g,G as y,u as i,a5 as j}from"./vendor-C8cObGch.js";import{u as b}from"./use-global-category-store-BoSDKVum.js";import{s as k,c as q}from"./main-Bpljy6lB.js";/* empty css               */const E={class:"settings-main card"},G={class:"settings-main-content"},H={class:"settings-footer"},Q=x({name:"BackendCategoryModify",asyncData(m){const{store:c,route:s,api:n}=m;return b(c).getCategoryItem({path:s.fullPath,id:s.params.id},n)},__name:"backend-category-modify",setup(m){const c=S(),s=P(),n=b(),p=B(n),C=T(p,"item"),[h,f]=V(!1),t=R({id:c.params.id,cate_name:"",cate_order:""});N(C.value,o=>{o.data&&(t.cate_name=o.data.cate_name,t.cate_order=o.data.cate_order)},{immediate:!0}),D(async()=>{});async function v(){if(!t.cate_name||!t.cate_order){k("请将表单填写完整!");return}if(h.value)return;f(!0);const{code:o,data:e,message:r}=await q.post("backend/category/modify",t);f(!1),o===200&&(k({type:"success",content:r}),n.updateCategoryItem(e),s.push("/backend/category/list"))}const _=F("编辑分类 - M.M.F 小屋");return I({title:_,meta:[{name:"description",content:_}]}),(o,e)=>{const r=w,M=U("router-link");return $(),L("div",E,[a("div",G,[l(r,{title:"分类名称"},{default:u(()=>[g(a("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>i(t).cate_name=d),type:"text",placeholder:"分类名称",class:"base-input",name:"cate_name"},null,512),[[y,i(t).cate_name]]),e[2]||(e[2]=a("span",{class:"input-info error"},"请输入分类名称",-1))]),_:1}),l(r,{title:"分类排序"},{default:u(()=>[g(a("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>i(t).cate_order=d),type:"text",placeholder:"分类排序",class:"base-input",name:"cate_order"},null,512),[[y,i(t).cate_order]]),e[3]||(e[3]=a("span",{class:"input-info error"},"请输入分类排序",-1))]),_:1})]),a("div",H,[a("a",{href:"javascript:;",class:"btn btn-yellow",onClick:v},"编辑分类"),l(M,{to:"/backend/category/list",class:"btn btn-blue"},{default:u(()=>[...e[4]||(e[4]=[j("返回",-1)])]),_:1})])])}}});export{Q as default};
