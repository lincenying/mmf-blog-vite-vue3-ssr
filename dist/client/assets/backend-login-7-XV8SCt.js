import{d as w,M as b,N as g,A as k,B as v,C as h,D as x,I as M,O as y,r as B,o as C,c as V,b as e,e as i,w as c,G as u,p as a,H as m,_ as L}from"./main-CTY4IKlK.js";import{_ as N}from"./a-input.vue_vue_type_script_setup_true_lang-oFZQFnI9.js";import{u as $}from"./vue.8fc199ce-Bmv443Wm.js";const D={class:"settings-main card"},F={class:"settings-main-content"},G={class:"settings-footer"},A=w({name:"BackendLogin",__name:"backend-login",setup(H){const{ctx:f}=b(),r=g(),t=k({username:"",password:""}),l=v(async()=>{if(!t.username||!t.password)return h("请输入用户名和密码!");const p=f.$loading.show(),{code:s,data:o}=await x.post("backend/admin/login",t);p.hide(),s===200&&o&&r.push("/backend/article/list")});M(()=>{y.get("b_user")&&r.push("/backend/article/list")});const d=B("管理员登录 - M.M.F 小屋");return $({title:d,meta:[{name:"description",content:d}]}),(p,s)=>{const o=N,_=L;return C(),V("div",D,[e("div",F,[e("form",null,[i(o,{title:"账号"},{default:c(()=>[u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>a(t).username=n),type:"text",placeholder:"请输入管理员账号",class:"base-input",name:"username"},null,512),[[m,a(t).username]]),s[3]||(s[3]=e("span",{class:"input-info error"},"请输入昵称",-1))]),_:1}),i(o,{title:"密码"},{default:c(()=>[u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>a(t).password=n),type:"password",placeholder:"请输入管理员密码",class:"base-input",name:"password"},null,512),[[m,a(t).password]]),s[4]||(s[4]=e("span",{class:"input-info error"},"请输入密码",-1))]),_:1})])]),e("div",G,[e("a",{href:"javascript:;",class:"btn btn-yellow",onClick:s[2]||(s[2]=(...n)=>a(l)&&a(l)(...n))},"登录")]),i(_)])}}});export{A as default};
