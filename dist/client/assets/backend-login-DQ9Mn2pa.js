import{e as w,b,s as g,c as k,_ as h}from"./main-XRXMnjAW.js";import{_ as v}from"./a-input.vue_vue_type_script_setup_true_lang-B_aRafhe.js";import{d as x,h as y,N as M,g as V,V as B,r as C,a2 as L,c as N,o as $,b as e,J as i,K as c,w as u,G as m,u as a}from"./vendor-CjYDLnoj.js";/* empty css               */const F={class:"settings-main card"},G={class:"settings-main-content"},T={class:"settings-footer"},J=x({name:"BackendLogin",__name:"backend-login",setup(U){const{ctx:f}=w(),r=M(),t=y({username:"",password:""}),l=b(async()=>{if(!t.username||!t.password)return g("请输入用户名和密码!");const p=f.$loading.show(),{code:s,data:o}=await k.post("backend/admin/login",t);p.hide(),s===200&&o&&r.push("/backend/article/list")});V(()=>{B.get("b_user")&&r.push("/backend/article/list")});const d=C("管理员登录 - M.M.F 小屋");return L({title:d,meta:[{name:"description",content:d}]}),(p,s)=>{const o=v,_=h;return $(),N("div",F,[e("div",G,[e("form",null,[i(o,{title:"账号"},{default:c(()=>[u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>a(t).username=n),type:"text",placeholder:"请输入管理员账号",class:"base-input",name:"username"},null,512),[[m,a(t).username]]),s[3]||(s[3]=e("span",{class:"input-info error"},"请输入昵称",-1))]),_:1}),i(o,{title:"密码"},{default:c(()=>[u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>a(t).password=n),type:"password",placeholder:"请输入管理员密码",class:"base-input",name:"password"},null,512),[[m,a(t).password]]),s[4]||(s[4]=e("span",{class:"input-info error"},"请输入密码",-1))]),_:1})])]),e("div",T,[e("a",{href:"javascript:;",class:"btn btn-yellow",onClick:s[2]||(s[2]=(...n)=>a(l)&&a(l)(...n))},"登录")]),i(_)])}}});export{J as default};
