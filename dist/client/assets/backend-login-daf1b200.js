import{v as e,j as u,k as p,e as m,f as _,g as f,l as h,u as w,_ as V}from"./main-ad933b15.js";import{_ as g}from"./a-input.vue_vue_type_script_setup_true_lang-e75de3fe.js";const v={class:"settings-main card"},N={class:"settings-main-content"},b=e.createElementVNode("span",{class:"input-info error"},"请输入昵称",-1),k=e.createElementVNode("span",{class:"input-info error"},"请输入密码",-1),E={class:"settings-footer"},C=e.defineComponent({name:"BackendLogin",__name:"backend-login",setup(x){const{ctx:c}=u(),a=p(),n=e.reactive({username:"",password:""}),r=m(async()=>{if(!n.username||!n.password)return _("请输入用户名和密码!");const l=c.$loading.show(),{code:t,data:o}=await f.post("backend/admin/login",n);l.hide(),t===200&&o&&a.push("/backend/article/list")});e.onMounted(()=>{h.get("b_user")&&a.push("/backend/article/list")});const i=e.computed(()=>"管理员登录 - M.M.F 小屋");return w({title:i,meta:[{name:"description",content:i}]}),(l,t)=>{const o=g,d=V;return e.openBlock(),e.createElementBlock("div",v,[e.createElementVNode("div",N,[e.createElementVNode("form",null,[e.createVNode(o,{title:"账号"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.unref(n).username=s),type:"text",placeholder:"请输入管理员账号",class:"base-input",name:"username"},null,512),[[e.vModelText,e.unref(n).username]]),b]),_:1}),e.createVNode(o,{title:"密码"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.unref(n).password=s),type:"password",placeholder:"请输入管理员密码",class:"base-input",name:"password"},null,512),[[e.vModelText,e.unref(n).password]]),k]),_:1})])]),e.createElementVNode("div",E,[e.createElementVNode("a",{href:"javascript:;",class:"btn btn-yellow",onClick:t[2]||(t[2]=(...s)=>e.unref(r)&&e.unref(r)(...s))},"登录")]),e.createVNode(d)])}}});export{C as default};
