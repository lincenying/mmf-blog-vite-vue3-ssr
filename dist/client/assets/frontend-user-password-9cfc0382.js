import{_ as p}from"./a-input.vue_vue_type_script_setup_true_lang-2210aa01.js";import{v as e,e as i,f as r,g as c,u}from"./main-648176ed.js";const m={class:"home-feeds cards-wrap"},w={class:"settings-main card"},f={class:"settings-main-content"},_={class:"settings-footer"},N=e.defineComponent({name:"FrontendUserPassword",__name:"frontend-user-password",setup(v){const s=e.reactive({old_password:"",password:"",re_password:""}),n=i(async()=>{if(!s.password||!s.old_password||!s.re_password)return r("请将表单填写完整!");if(s.password!==s.re_password)return r("两次密码输入不一致!");const{code:l,message:t}=await c.post("frontend/user/password",s);l===200&&(r({type:"success",content:t}),s.old_password="",s.password="",s.re_password="")}),d=e.ref("密码 - M.M.F 小屋");return u({title:d,meta:[{name:"description",content:d}]}),(l,t)=>{const a=p;return e.openBlock(),e.createElementBlock("div",m,[e.createElementVNode("div",w,[e.createElementVNode("div",f,[e.createElementVNode("form",null,[e.createVNode(a,{title:"当前密码"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.unref(s).old_password=o),type:"password",placeholder:"当前密码",class:"base-input",name:"old_password",autocomplete:"off"},null,512),[[e.vModelText,e.unref(s).old_password]])]),_:1}),e.createVNode(a,{title:"新的密码"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.unref(s).password=o),type:"password",placeholder:"新的密码",class:"base-input",name:"password",autocomplete:"off"},null,512),[[e.vModelText,e.unref(s).password]])]),_:1}),e.createVNode(a,{title:"确认密码"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.unref(s).re_password=o),type:"password",placeholder:"确认密码",class:"base-input",name:"re_password",autocomplete:"off"},null,512),[[e.vModelText,e.unref(s).re_password]])]),_:1})])]),e.createElementVNode("div",_,[e.createElementVNode("a",{href:"javascript:;",class:"btn btn-yellow",onClick:t[3]||(t[3]=(...o)=>e.unref(n)&&e.unref(n)(...o))},"保存设置")])])])}}});export{N as default};
