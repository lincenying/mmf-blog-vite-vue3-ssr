import{_ as m}from"./a-input.vue_vue_type_script_setup_true_lang-oFZQFnI9.js";import{d as _,A as f,B as v,C as d,D as b,r as h,o as y,c as g,b as o,e as n,w as p,G as l,p as a,H as i}from"./main-CTY4IKlK.js";import{u as V}from"./vue.8fc199ce-Bmv443Wm.js";const k={class:"home-feeds cards-wrap"},x={class:"settings-main card"},B={class:"settings-main-content"},C={class:"settings-footer"},H=_({name:"FrontendUserPassword",__name:"frontend-user-password",setup(M){const s=f({old_password:"",password:"",re_password:""}),c=v(async()=>{if(!s.password||!s.old_password||!s.re_password)return d("请将表单填写完整!");if(s.password!==s.re_password)return d("两次密码输入不一致!");const{code:w,message:e}=await b.post("frontend/user/password",s);w===200&&(d({type:"success",content:e}),s.old_password="",s.password="",s.re_password="")}),u=h("密码 - M.M.F 小屋");return V({title:u,meta:[{name:"description",content:u}]}),(w,e)=>{const r=m;return y(),g("div",k,[o("div",x,[o("div",B,[o("form",null,[n(r,{title:"当前密码"},{default:p(()=>[l(o("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a(s).old_password=t),type:"password",placeholder:"当前密码",class:"base-input",name:"old_password",autocomplete:"off"},null,512),[[i,a(s).old_password]])]),_:1}),n(r,{title:"新的密码"},{default:p(()=>[l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a(s).password=t),type:"password",placeholder:"新的密码",class:"base-input",name:"password",autocomplete:"off"},null,512),[[i,a(s).password]])]),_:1}),n(r,{title:"确认密码"},{default:p(()=>[l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a(s).re_password=t),type:"password",placeholder:"确认密码",class:"base-input",name:"re_password",autocomplete:"off"},null,512),[[i,a(s).re_password]])]),_:1})])]),o("div",C,[o("a",{href:"javascript:;",class:"btn btn-yellow",onClick:e[3]||(e[3]=(...t)=>a(c)&&a(c)(...t))},"保存设置")])])])}}});export{H as default};
