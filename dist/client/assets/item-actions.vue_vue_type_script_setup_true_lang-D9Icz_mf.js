import{d as h,c as r,o,a3 as x,t as f,F as g,a8 as C,a9 as S,M as L,O as j,K as M,b as t,a6 as l,k as P,u as d}from"./vendor-MhFm0oL3.js";import{a as A,b as B,s as w,c as F}from"./main-DJ1GBfWU.js";import{u as I}from"./use-frontend-article-store-CBPlKa85.js";const R={class:"card card-other"},W=h({name:"AsideOther",__name:"aside-other",setup(p){return(k,i)=>(o(),r("div",R,i[0]||(i[0]=[x('<div class="card-content"><ul class="other-item"><li>当前版本: v3.0.0</li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3" target="_blank">Vue3版(Spa+Pwa)</a></li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3-ssr" target="_blank">服务端渲染版(Ssr+Pwa)</a></li><li>网站备案号: <a href="http://beian.miit.gov.cn" target="_blank">浙ICP备15010753号-1</a></li></ul></div>',1)])))}}),V="/static/images/topic-1.png",N={class:"card card-topics"},O={class:"topic-title"},U={class:"topic-meta"},X=h({name:"AsideCategory",__name:"aside-category",props:{category:{}},setup(p){const i=f(p),e=g(i,"category");return(_,n)=>{const v=L("router-link");return o(),r("div",N,[(o(!0),r(C,null,S(e.value,c=>(o(),j(v,{key:c._id,to:`/category/${c._id}`,class:"topic-item"},{default:M(()=>[n[1]||(n[1]=t("span",{class:"avatar-link"},[t("img",{src:V,class:"avatar-image",alt:""})],-1)),t("div",null,[t("h3",O,l(c.cate_name),1),t("p",U,l(c.cate_num||0)+" 篇文章",1),n[0]||(n[0]=t("i",{class:"icon icon-arrow-right"},null,-1))])]),_:2,__:[1]},1032,["to"]))),128))])}}}),z={class:"actions-wrap"},D={class:"text"},E={class:"text"},K={href:"javascript:;",class:"action-item"},q={class:"text"},G={href:"javascript:;",class:"action-item action-item-fav"},H={class:"text"},Y=h({name:"ItemActions",__name:"item-actions",props:{item:{}},setup(p){const i=f(p),e=g(i,"item"),_=A(),n=f(_),v=g(n,"cookies"),c=I(),b=P(()=>!!v.value.user),m=B(async()=>{if(!b.value){w("请先登录!"),_.setLoginModal(!0);return}let u="frontend/like";e.value.like_status&&(u="frontend/unlike");const{code:s,message:a}=await F.get(u,{id:e.value._id});s===200&&(w({type:"success",content:a}),c.modifyLikeStatus({id:e.value._id,status:!e.value.like_status}))});function $(){const u=window.screen.height/2-250,s=window.screen.width/2-300,a=`${e.value.title} - M.M.F 小屋`,y=`https://www.mmxiaowu.com/article/${e.value._id}`;window.open(`http://service.weibo.com/share/share.php?title=${encodeURIComponent(a.replace(/&nbsp;/g," ").replace(/<br \/>/g," "))}&url=${encodeURIComponent(y)}`,"分享至新浪微博",`height=500, width=600, top=${u}, left=${s}, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no`)}return(u,s)=>(o(),r("div",z,[e.value.like_status?(o(),r("a",{key:0,href:"javascript:;",class:"action-item active",onClick:s[0]||(s[0]=(...a)=>d(m)&&d(m)(...a))},[s[2]||(s[2]=t("i",{class:"icon icon-action-voteup-active"},null,-1)),t("span",D,l(e.value.like)+" 赞",1)])):(o(),r("a",{key:1,href:"javascript:;",class:"action-item",onClick:s[1]||(s[1]=(...a)=>d(m)&&d(m)(...a))},[s[3]||(s[3]=t("i",{class:"icon icon-action-voteup"},null,-1)),t("span",E,l(e.value.like)+" 赞",1)])),t("a",K,[s[4]||(s[4]=t("i",{class:"icon icon-action-comment"},null,-1)),t("span",q,l(e.value.comment_count)+" 评论",1)]),t("a",G,[s[5]||(s[5]=t("i",{class:"icon icon-action-fav"},null,-1)),t("span",H,l(e.value.visit)+" 浏览",1)]),t("a",{href:"javascript:;",class:"action-item",onClick:$},s[6]||(s[6]=[t("i",{class:"icon icon-action-share"},null,-1),t("span",{class:"text"},"分享",-1)]))]))}});export{Y as _,X as a,W as b};
