const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-BLXAojGb.js","assets/vendor-CEG5Ov6u.css","assets/404-B_Fht9gR.js","assets/use-frontend-article-store-ZMWS006r.js","assets/unocss--QrptOon.css","assets/frontend-index-DV-t5TVZ.js","assets/item-actions.vue_vue_type_script_setup_true_lang-joR5ONg5.js","assets/use-global-category-store-B-Xa5zoa.js","assets/frontend-article-Dxi-AJCK.js","assets/use-global-comment-store-3kv_aD-U.js","assets/frontend-about-CG2CNsy1.js","assets/frontend-user-DFsiQ4yn.js","assets/frontend-user-account-DO3cb_ru.js","assets/a-input.vue_vue_type_script_setup_true_lang-DCKx48uL.js","assets/frontend-user-password-C2ZCvNm8.js","assets/backend-login-DiaFU9Gm.js","assets/backend-index-GB5e4T3t.js","assets/backend-article-list-ZZEDyM1t.js","assets/use-backend-article-store-iEQ0Oy-f.js","assets/backend-article-insert-DDTOS1bX.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-DWRjCMi1.js","assets/backend-article-comment-DJgZ4Nma.js","assets/backend-category-list-Bfv0Fcki.js","assets/backend-category-insert-CTUJ7Sux.js","assets/backend-category-modify-BfdVsF6M.js","assets/backend-admin-list-3apvFZMj.js","assets/use-backend-admin-store-CSL8zndr.js","assets/backend-admin-modify-B6MRDFpa.js","assets/backend-user-list-DCptzC_Q.js","assets/use-backend-user-store-BN-ZvByM.js","assets/backend-user-modify-DHirVxQr.js"])))=>i.map(i=>d[i]);
import{r as x,d as $,c as T,a as de,u as m,o as y,b as i,E as pe,e as Re,f as j,g as Q,h as D,i as xe,j as Le,k as q,n as Ae,l as $e,w as C,v as Ie,m as me,p as fe,t as B,q as Ce,s as Be,x as _e,y as Z,z as Me,A as Ve,B as Oe,C as ee,D as De,F as z,G as M,H as te,I as ae,J as k,K as L,L as Ne,M as ge,N as Ue,T as We,O as G,P as je,S as Fe,Q as qe,R as ze,U as He,V as he,W as ve,X as Ke,Y as we,Z as Ge,_ as Xe,$ as re,a0 as Ye,a1 as Je}from"./vendor-BLXAojGb.js";/* empty css               */(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(n){if(n.ep)return;n.ep=!0;const t=s(n);fetch(n.href,t)}})();const Qe="modulepreload",Ze=function(e){return"/"+e},ie={},_=function(o,s,a){let n=Promise.resolve();if(s&&s.length>0){let f=function(p){return Promise.all(p.map(l=>Promise.resolve(l).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=f(s.map(p=>{if(p=Ze(p),p in ie)return;ie[p]=!0;const l=p.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Qe,l||(d.as="script"),d.crossOrigin="",d.href=p,u&&d.setAttribute("nonce",u),document.head.appendChild(d),l)return new Promise((b,h)=>{d.addEventListener("load",b),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${p}`)))})}))}function t(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return n.then(r=>{for(const u of r||[])u.status==="rejected"&&t(u.reason);return o().catch(t)})};function et(e={}){const{immediate:o=!1,onNeedRefresh:s,onOfflineReady:a,onRegistered:n,onRegisteredSW:t,onRegisterError:r}=e;let u,f;const p=async(c=!0)=>{await f};async function l(){if("serviceWorker"in navigator){if(u=await _(async()=>{const{Workbox:c}=await import("./vendor-BLXAojGb.js").then(d=>d.ag);return{Workbox:c}},__vite__mapDeps([0,1])).then(({Workbox:c})=>new c("/sw.js",{scope:"/",type:"classic"})).catch(c=>{r==null||r(c)}),!u)return;u.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),u.addEventListener("installed",c=>{c.isUpdate||a==null||a()}),u.register({immediate:o}).then(c=>{t?t("/sw.js",c):n==null||n(c)}).catch(c=>{r==null||r(c)})}}return f=l(),p}function tt(e={}){const{immediate:o=!0,onNeedRefresh:s,onOfflineReady:a,onRegistered:n,onRegisteredSW:t,onRegisterError:r}=e,u=x(!1),f=x(!1);return{updateServiceWorker:et({immediate:o,onNeedRefresh(){u.value=!0,s==null||s()},onOfflineReady(){f.value=!0,a==null||a()},onRegistered:n,onRegisteredSW:t,onRegisterError:r}),offlineReady:f,needRefresh:u}}const nt={key:0,id:"app-refresh",class:"app-refresh"},ot={class:"app-refresh-wrap"},ke=$({name:"ReloadPrompt",__name:"reload-prompt",setup(e){const{offlineReady:o,needRefresh:s,updateServiceWorker:a}=tt();async function n(){o.value=!1,s.value=!1}return(t,r)=>m(s)?(y(),T("div",nt,[i("div",ot,[r[1]||(r[1]=i("label",null,"新内容可用，单击刷新按钮更新",-1)),i("span",{onClick:r[0]||(r[0]=u=>m(a)())},"刷新"),i("span",{onClick:n},"关闭")])])):de("",!0)}});function st(e){return e.use(Re),e.config.globalProperties.$msgbox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt,e.config.globalProperties.$message=pe,e}const at=pe;function rt(e){st(e)}const it={install:rt},lt=$({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(e,{slots:o}){const s=x(!1);return Q(()=>{s.value=!0}),a=>{var u;if(s.value)return(u=o.default)==null?void 0:u.call(o);const n=o.fallback||o.placeholder;if(n)return n();const t=a.fallback||a.placeholder||"",r=a.fallbackTag||a.placeholderTag||"span";return T(r,null,t)}}}),ct="#88888825",ut=$({__name:"bg-plum",setup(e){const o=Math.PI,s=Math.PI/2,a=Math.PI/12,n=x(null),{random:t}=Math,r=D(xe()),u=x(()=>{}),f=x(4),p=x(6),l=x(!1);function c(h,v=400,E=400,I){const g=h.getContext("2d"),S=window.devicePixelRatio||1,A=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1,w=S/A;return h.style.width=`${v}px`,h.style.height=`${E}px`,h.width=w*v,h.height=w*E,g.scale(w,w),{ctx:g,dpi:w}}function d(h=0,v=0,E=0,I=0){const g=E*Math.cos(I),S=E*Math.sin(I);return[h+g,v+S]}Q(async()=>{const h=n.value,{ctx:v}=c(h,r.width,r.height),{width:E,height:I}=h;let g=[],S=[],A=0;const w=(W,se,K)=>{const Te=t()*p.value,[V,O]=d(W,se,Te,K);v.beginPath(),v.moveTo(W,se),v.lineTo(V,O),v.stroke();const Se=K+t()*a,Ee=K-t()*a;V<-100||V>r.width+100||O<-100||O>r.height+100||((A<=f.value||t()>.5)&&g.push(()=>w(V,O,Se)),(A<=f.value||t()>.5)&&g.push(()=>w(V,O,Ee)))};let N=performance.now();const Pe=1e3/40;let U;U=Le(()=>{performance.now()-N<Pe||(A+=1,S=g,g=[],N=performance.now(),S.length||(U.pause(),l.value=!0),S.forEach(W=>W()))},{immediate:!1}),u.value=()=>{U.pause(),A=0,v.clearRect(0,0,E,I),v.lineWidth=1,v.strokeStyle=ct,S=[],g=[()=>w(t()*r.width,0,s),()=>w(t()*r.width,r.height,-s),()=>w(0,t()*r.height,0),()=>w(r.width,t()*r.height,o)],r.width<500&&(g=g.slice(0,2)),U.resume(),l.value=!1},u.value()});const b=q(()=>"radial-gradient(circle, transparent, black);");return(h,v)=>(y(),T("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:Ae([{"z-index":"-1"},`mask-image: ${m(b)};--webkit-mask-image: ${m(b)};`])},[i("canvas",{ref_key:"el",ref:n,width:"400",height:"400"},null,512)],4))}}),dt={class:"back-top"},pt=$({name:"BackTop",__name:"back-top",setup(e){const{y:o}=$e();function s(){let a=o.value;const n=setInterval(()=>{a-=Math.abs(a*.1),a<=1&&(a=0,clearInterval(n)),window.scrollTo(0,a)},20)}return(a,n)=>C((y(),T("div",dt,[i("a",{href:"javascript:;",onClick:s})],512)),[[Ie,m(o)>500]])}});me();const H=fe("globalStore",()=>{const e=D({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),o=n=>{e.showLoginModal=n},s=n=>{e.showRegisterModal=n},a=n=>{e.cookies=n};return{...B(e),setLoginModal:o,setRegisterModal:s,setCookies:a}}),ne=fe("appShellStore",()=>{const e=D({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),o=()=>{e.needPageTransition=!0},s=()=>{e.needPageTransition=!1},a=r=>{e.isPageSwitching=r},n=r=>{const{path:u,scrollTop:f}=r;e.historyPageScrollTop[u]=f},t=r=>{e.pageTransitionName=r};return{...B(e),enablePageTransition:o,disablePageTransition:s,setPageSwitching:a,saveScrollTop:n,setPageTransitionName:t}});function _n(){const e=Oe(),o=e.appContext.config.globalProperties,s=e.type;return{ctx:o,options:s}}function ye(e,o="auto"){const[s,a]=Ce(!1);return async(...n)=>{if(!s.value){a(!0);try{const t=await e(...n);(o===!0||o==="auto"&&t!==!1)&&a(!1)}catch(t){throw a(!1),t}}}}function gn(){const e=_e(),o=ne(),{historyPageScrollTop:s}=Z(o);Me(()=>{const a=s.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,a)},300)}),Q(()=>{const a=s.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,a)},300)}),Ve((a,n,t)=>{o.saveScrollTop({path:n.fullPath,scrollTop:Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop)}),t()})}function le(e,o){return e=e||"123456",e=decodeURIComponent(e),o=o||256,`https://cravatar.cn/avatar/${Be(e)}?s=${o}&d=identicon&r=g`}function R(e){let o,s;e?typeof e=="string"?(o=e,s="error"):(o=e.content,s=e.type):(o="接口返回数据错误",s="error"),at[s](o)}const ce={api:"/api/",timeout:3e4};ee.interceptors.request.use(e=>e,e=>Promise.reject(e));ee.interceptors.response.use(e=>e,e=>{const o={};return o.config=e.config,o.data=null,o.headers=e.config.headers,o.status=e.code,o.statusText=e.message,o.request=e.request,Promise.resolve(o)});function X(e){return e.status===200||e.status===304?e.data:e.status===401?{code:401,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:"您还没有登录, 或者登录超时!"}:{code:-404,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:`接口返回数据错误, 错误代码: ${e.status||"未知"}`}}function Y(e){return e.code===-500?window.location.href="/backend":e.code===-400?window.location.href="/":e.code!==200&&R(e.message),e}function mt(){const e=ee.create({baseURL:ce.api,headers:{"X-Requested-With":"XMLHttpRequest"},timeout:ce.timeout});return{async get(o,s,a={}){const n=await e({method:"get",url:o,params:s,headers:{...a}}),t=X(n);return Y(t)},async post(o,s,a={}){const n=await e({method:"post",url:o,data:De.stringify(s),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",...a}}),t=X(n);return Y(t)},async file(o,s,a={}){const n=await e({method:"post",url:o,data:s,headers:{...a}}),t=X(n);return Y(t)}}}const oe=mt(),ft={class:"modal modal-signup"},_t={class:"modal-content"},gt={class:"sign-up-form"},ht={class:"input-wrap"},vt={class:"input-wrap"},wt={class:"input-wrap"},kt={class:"input-wrap"},yt=$({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(e){const s=B(e),a=z(s,"show"),n=H(),t=D({username:"",email:"",password:"",re_password:""});function r(){n.setRegisterModal(!1)}function u(){n.setLoginModal(!0),n.setRegisterModal(!1)}const f=ye(async()=>{const p=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!t.username||!t.password||!t.email)return R("请将表单填写完整!");if(ae(t.username)<4)return R("用户长度至少 2 个中文或 4 个英文!");if(p.test(t.email)){if(ae(t.password)<8)return R("密码长度至少 8 位!");if(t.password!==t.re_password)return R("两次输入的密码不一致!")}else return R("邮箱格式错误!");const{code:l,message:c}=await oe.post("frontend/user/insert",t);l===200&&(R({type:"success",content:c}),u())});return(p,l)=>(y(),T("div",{class:te(["modal-wrap modal-signup-wrap",a.value?"active":""])},[l[11]||(l[11]=i("span",{class:"center-helper"},null,-1)),i("div",ft,[l[10]||(l[10]=i("h2",{class:"modal-title"},"注册",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:r},l[5]||(l[5]=[i("i",{class:"icon icon-close-black"},null,-1)])),i("div",_t,[i("form",gt,[i("div",ht,[C(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>m(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[M,m(t).username]]),l[6]||(l[6]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",vt,[C(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>m(t).email=c),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[M,m(t).email]]),l[7]||(l[7]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",wt,[C(i("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>m(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[M,m(t).password]]),l[8]||(l[8]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",kt,[C(i("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>m(t).re_password=c),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password"},null,512),[[M,m(t).re_password]]),l[9]||(l[9]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[4]||(l[4]=(...c)=>m(f)&&m(f)(...c))},"确认注册"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"直接登录")])])])],2))}}),bt={class:"modal modal-signup"},Pt={class:"modal-content"},Tt={class:"sign-up-form"},St={class:"input-wrap"},Et={class:"input-wrap"},Rt=$({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(e){const s=B(e),a=z(s,"show"),n=H(),t=D({username:"",password:""});function r(){n.setLoginModal(!1)}function u(){n.setLoginModal(!1),n.setRegisterModal(!0)}const f=ye(async()=>{if(!t.username||!t.password)return R("请将表单填写完整!");const{code:p,message:l}=await oe.post("frontend/user/login",t);p===200&&(R({type:"success",content:l}),window.location.reload())});return(p,l)=>(y(),T("div",{class:te(["modal-wrap modal-sign-in-wrap",a.value?"active":""])},[l[7]||(l[7]=i("span",{class:"center-helper"},null,-1)),i("div",bt,[l[6]||(l[6]=i("h2",{class:"modal-title"},"登录",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:r},l[3]||(l[3]=[i("i",{class:"icon icon-close-black"},null,-1)])),i("div",Pt,[i("form",Tt,[i("div",St,[C(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>m(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[M,m(t).username]]),l[4]||(l[4]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",Et,[C(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>m(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[M,m(t).password]]),l[5]||(l[5]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[2]||(l[2]=(...c)=>m(f)&&m(f)(...c))},"确认登录"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"我要注册")])])])],2))}}),xt={class:"global-nav"},Lt={class:"wrap"},At={class:"left-part"},$t={class:"main-nav"},It={key:0,class:"right-part"},Ct={class:"nav-search"},Bt={key:0,class:"nav-me"},Mt=["src"],Vt={key:1,class:"nav-me"},Ot=["src"],Dt=$({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(e){const s=B(e),a=z(s,"isBackend"),n=H(),t=B(n),r=z(t,"cookies"),u=q(()=>!!r.value.user);function f(){n.setLoginModal(!0)}const p=Ue();function l(c){const d=c.target.value;if(d==="")return!1;p.replace(`/search/${d}`)}return(c,d)=>{const b=ge("router-link");return y(),T("nav",xt,[i("div",Lt,[i("div",At,[k(b,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:L(()=>d[1]||(d[1]=[i("i",{class:"icon icon-nav-logo"},null,-1),i("span",{class:"hidden"},"M.M.F 小屋",-1)])),_:1,__:[1]}),i("div",$t,[k(b,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:L(()=>d[2]||(d[2]=[i("i",{class:"icon icon-nav-home"},null,-1),i("span",{class:"text"},"首页",-1)])),_:1,__:[2]}),k(b,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:L(()=>d[3]||(d[3]=[i("i",{class:"icon icon-nav-explore"},null,-1),i("span",{class:"text"},"热门",-1)])),_:1,__:[3]}),k(b,{to:"/about","active-class":"current",class:"nav-link"},{default:L(()=>d[4]||(d[4]=[i("i",{class:"icon icon-nav-features"},null,-1),i("span",{class:"text"},"关于",-1)])),_:1,__:[4]}),d[5]||(d[5]=i("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[i("i",{class:"icon icon-nav-game"}),i("span",{class:"text"},"汉兜")],-1))])]),a.value?de("",!0):(y(),T("div",It,[i("span",Ct,[d[6]||(d[6]=i("i",{class:"icon icon-search-white"},null,-1)),i("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:d[0]||(d[0]=Ne(h=>l(h),["enter"]))},null,32)]),m(u)?(y(),T("span",Bt,[k(b,{to:"/user/account",class:"nav-me-link"},{default:L(()=>[i("img",{src:("useAvatar"in c?c.useAvatar:m(le))(r.value.useremail,100),class:"nav-avatar-img"},null,8,Mt)]),_:1})])):(y(),T("span",Vt,[i("a",{href:"javascript:;",class:"nav-me-link",onClick:f},[i("img",{src:("useAvatar"in c?c.useAvatar:m(le))("noavatar"),class:"nav-avatar-img"},null,8,Ot)])]))]))])])}}}),Nt=$({name:"AppRoot",__name:"app",setup(e){const o=H(),{showLoginModal:s,showRegisterModal:a}=B(o),n=ne(),{pageTransitionName:t}=Z(n),r=x("frontend-index,frontend-about"),u=_e(),f=q(()=>(u.meta.path||u.path).replace(/\//g,"_")),p=q(()=>u.path.includes("backend"));function l(){n.setPageSwitching(!0)}function c(){n.setPageSwitching(!1)}return(d,b)=>{const h=Dt,v=ge("router-view"),E=Rt,I=yt,g=pt,S=ut,A=ke,w=lt;return y(),T("div",{class:te(p.value?"backend":"frontend")},[k(h,{"is-backend":p.value},null,8,["is-backend"]),k(v,{class:"app-view relative"},{default:L(({Component:N})=>[k(We,{name:m(t),mode:"out-in",onBeforeEnter:l,onAfterEnter:c},{default:L(()=>[(y(),G(je,{key:f.value,include:r.value},[(y(),G(Fe,null,{default:L(()=>[(y(),G(qe(N),{key:f.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),k(E,{show:m(s)},null,8,["show"]),k(I,{show:m(a)},null,8,["show"]),k(g),k(w,null,{default:L(()=>[k(S),k(A)]),_:1})],2)}}}),Ut=()=>_(()=>import("./404-B_Fht9gR.js"),__vite__mapDeps([2,3,0,1,4])),F=()=>_(()=>import("./frontend-index-DV-t5TVZ.js"),__vite__mapDeps([5,6,0,1,3,7,4])),Wt=()=>_(()=>import("./frontend-article-Dxi-AJCK.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),jt=()=>_(()=>import("./frontend-about-CG2CNsy1.js"),__vite__mapDeps([10,3,0,1,4])),Ft=()=>_(()=>import("./frontend-user-DFsiQ4yn.js"),__vite__mapDeps([11,0,1,4])),qt=()=>_(()=>import("./frontend-user-account-DO3cb_ru.js"),__vite__mapDeps([12,13,0,1,4])),zt=()=>_(()=>import("./frontend-user-password-C2ZCvNm8.js"),__vite__mapDeps([14,13,0,1,4])),Ht=()=>_(()=>import("./backend-login-DiaFU9Gm.js"),__vite__mapDeps([15,13,0,1,4])),Kt=()=>_(()=>import("./backend-index-GB5e4T3t.js"),__vite__mapDeps([16,0,1])),Gt=()=>_(()=>import("./backend-article-list-ZZEDyM1t.js"),__vite__mapDeps([17,0,1,18,4])),Xt=()=>_(()=>import("./backend-article-insert-DDTOS1bX.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Yt=()=>_(()=>import("./backend-article-modify-DWRjCMi1.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),Jt=()=>_(()=>import("./backend-article-comment-DJgZ4Nma.js"),__vite__mapDeps([22,0,1,9,4])),Qt=()=>_(()=>import("./backend-category-list-Bfv0Fcki.js"),__vite__mapDeps([23,7,0,1,4])),Zt=()=>_(()=>import("./backend-category-insert-CTUJ7Sux.js"),__vite__mapDeps([24,13,0,1,7,4])),en=()=>_(()=>import("./backend-category-modify-BfdVsF6M.js"),__vite__mapDeps([25,13,0,1,7,4])),tn=()=>_(()=>import("./backend-admin-list-3apvFZMj.js"),__vite__mapDeps([26,0,1,27,4])),nn=()=>_(()=>import("./backend-admin-modify-B6MRDFpa.js"),__vite__mapDeps([28,13,0,1,27,4])),on=()=>_(()=>import("./backend-user-list-DCptzC_Q.js"),__vite__mapDeps([29,0,1,30,4])),sn=()=>_(()=>import("./backend-user-modify-DHirVxQr.js"),__vite__mapDeps([31,13,0,1,30,4]));function an(e,o,s){const a=he.get("user");ve&&!a?s("/"):s()}function rn(e,o,s){const a=he.get("b_user");ve&&!a?s("/backend/login"):s()}const P={meta:{index:1,path:"/backend"},beforeEnter:rn},ln=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:F,meta:{index:1}},{name:"trending",path:"/trending/:by",component:F,meta:{index:1}},{name:"category",path:"/category/:id",component:F,meta:{index:1}},{name:"search",path:"/search/:key",component:F,meta:{index:1}},{name:"article",path:"/article/:id",component:Wt,meta:{index:2}},{name:"about",path:"/about",component:jt,meta:{index:1}},{name:"account",path:"/user",component:Ft,meta:{index:1},beforeEnter:an,children:[{path:"account",component:qt,meta:{path:"/user"}},{path:"password",component:zt,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:Kt,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:Ht},{name:"admin_list",path:"admin/list",component:tn,...P},{name:"admin_modify",path:"admin/modify/:id",component:nn,...P},{name:"article_list",path:"article/list",component:Gt,...P},{name:"article_insert",path:"article/insert",component:Xt,...P},{name:"article_modify",path:"article/modify/:id",component:Yt,...P},{name:"article_comment",path:"article/comment/:id",component:Jt,...P},{name:"category_list",path:"category/list",component:Qt,...P},{name:"category_insert",path:"category/insert",component:Zt,...P},{name:"category_modify",path:"category/modify/:id",component:en,...P},{name:"user_list",path:"user/list",component:on,...P},{name:"user_modify",path:"user/modify/:id",component:sn,...P}]},{name:"404",path:"/:catchAll(.*)",component:Ut}];function cn(e){const o=ze({history:He(),routes:ln}),s="slide-left",a="slide-right";return o.beforeEach((n,t,r)=>{const u=ne(e),{needPageTransition:f}=Z(u);if(f.value){let p;!t.meta.index||n.meta.index===t.meta.index?p="fade":n.meta.index>t.meta.index?p=s:p=a,u.setPageTransitionName(p)}r()}),o}console.log("当前环境: production");function un(){const e=Ke(Nt),o=me(),s=cn(o);return e.use(o).use(s).use(it),{app:e,router:s,store:o}}we.use(Ge,{Prism:Xe,codeHighlightExtensionMap:{vue:"html"}}).use((re.default||re)());const{app:J,router:ue,store:be}=un(),dn=Ye();ue.isReady().then(()=>{ue.beforeResolve(async(e,o)=>{let s=!1;const a=e.matched.filter((n,t)=>s||(s=o.matched[t]!==n)||o.path!==e.path);if(!a.length)return!1;await Promise.all(a.map(n=>{var r;const t=(r=n.components)==null?void 0:r.default;return t.asyncData?t.asyncData({store:be,route:e,api:oe}):!0}))}),J.component("ReloadPrompt",ke),J.use(dn),J.use(Je.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(we).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&(be.state.value=window.__INITIAL_STATE__);export{lt as _,H as a,ye as b,oe as c,le as d,_n as e,ne as f,R as s,gn as u};
