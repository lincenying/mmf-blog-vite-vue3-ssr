const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-C8cObGch.js","assets/vendor-CxIXUd-d.css","assets/404-3zDHFu4w.js","assets/use-frontend-article-store-BwR25q4X.js","assets/unocss-BgigKC2X.css","assets/frontend-index-M7sAK8YX.js","assets/item-actions.vue_vue_type_script_setup_true_lang-BG621-Tm.js","assets/use-global-category-store-BoSDKVum.js","assets/frontend-article-CVtDYRGr.js","assets/use-global-comment-store-Bxcgx7dV.js","assets/frontend-about-Bhp8E-hx.js","assets/frontend-user-D5zugCvp.js","assets/frontend-user-account-B927GONh.js","assets/a-input.vue_vue_type_script_setup_true_lang-gsShgKbE.js","assets/frontend-user-password-CNILD_La.js","assets/backend-login-Ciov6i6I.js","assets/backend-index-De5XQc_C.js","assets/backend-article-list-CLy9G7LJ.js","assets/use-backend-article-store-IOWC6QEw.js","assets/backend-article-insert-Cx7GHXAV.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-prDSgmkT.js","assets/backend-article-comment-DYgVXGM4.js","assets/backend-category-list-BVwLvHe5.js","assets/backend-category-insert-BRHOk7rp.js","assets/backend-category-modify-C-NIGii0.js","assets/backend-admin-list-Du0lf2g0.js","assets/use-backend-admin-store-bb7GWFgc.js","assets/backend-admin-modify-D_X71-hg.js","assets/backend-user-list-D0itAUlJ.js","assets/use-backend-user-store-Bm1K6V6i.js","assets/backend-user-modify-COQgvUdY.js"])))=>i.map(i=>d[i]);
import{E as pe,a as Ee,b as j,d as L,r as x,o as Q,c as P,e as me,u as m,f as y,g as l,h as D,i as xe,j as Re,k as q,n as fe,l as _e,m as ge,t as C,s as Z,p as Le,q as he,v as $e,w as Ae,x as Ie,y as Ce,z as ee,A as Me,B as z,C as re,D as te,F as I,G as B,H as Be,I as Ve,J as ne,K as h,L as R,M as Oe,N as De,T as Ue,O as X,P as Ne,S as We,Q as je,R as Fe,U as qe,V as ve,W as we,X as ze,Y as ke,Z as He,_ as Ke,$ as ie,a0 as Ge,a1 as Xe}from"./vendor-C8cObGch.js";/* empty css               */(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(s){if(s.ep)return;s.ep=!0;const t=a(s);fetch(s.href,t)}})();function Ye(e){return e.use(Ee),e.config.globalProperties.$msgbox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt,e.config.globalProperties.$message=pe,e}const Je=pe;function Qe(e){Ye(e)}const Ze={install:Qe},et=L({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(e,{slots:n}){const a=x(!1);return Q(()=>{a.value=!0}),r=>{var c;if(a.value)return(c=n.default)==null?void 0:c.call(n);const s=n.fallback||n.placeholder;if(s)return s();const t=r.fallback||r.placeholder||"",o=r.fallbackTag||r.placeholderTag||"span";return P(o,null,t)}}}),tt="modulepreload",nt=function(e){return"/"+e},le={},f=function(n,a,r){let s=Promise.resolve();if(a&&a.length>0){let d=function(p){return Promise.all(p.map(i=>Promise.resolve(i).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=d(a.map(p=>{if(p=nt(p),p in le)return;le[p]=!0;const i=p.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${u}`))return;const v=document.createElement("link");if(v.rel=i?"stylesheet":tt,i||(v.as="script"),v.crossOrigin="",v.href=p,c&&v.setAttribute("nonce",c),document.head.appendChild(v),i)return new Promise((M,w)=>{v.addEventListener("load",M),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function t(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&t(c.reason);return n().catch(t)})};function ot(e={}){const{immediate:n=!1,onNeedRefresh:a,onOfflineReady:r,onRegistered:s,onRegisteredSW:t,onRegisterError:o}=e;let c,d;const p=async(u=!0)=>{await d};async function i(){if("serviceWorker"in navigator){if(c=await f(async()=>{const{Workbox:u}=await import("./vendor-C8cObGch.js").then(v=>v.aj);return{Workbox:u}},__vite__mapDeps([0,1])).then(({Workbox:u})=>new u("/sw.js",{scope:"/",type:"classic"})).catch(u=>{o==null||o(u)}),!c)return;c.addEventListener("activated",u=>{(u.isUpdate||u.isExternal)&&window.location.reload()}),c.addEventListener("installed",u=>{u.isUpdate||r==null||r()}),c.register({immediate:n}).then(u=>{t?t("/sw.js",u):s==null||s(u)}).catch(u=>{o==null||o(u)})}}return d=i(),p}function st(e={}){const{immediate:n=!0,onNeedRefresh:a,onOfflineReady:r,onRegistered:s,onRegisteredSW:t,onRegisterError:o}=e,c=x(!1),d=x(!1);return{updateServiceWorker:ot({immediate:n,onNeedRefresh(){c.value=!0,a==null||a()},onOfflineReady(){d.value=!0,r==null||r()},onRegistered:s,onRegisteredSW:t,onRegisterError:o}),offlineReady:d,needRefresh:c}}const at={key:0,id:"app-refresh",class:"app-refresh"},rt={class:"app-refresh-wrap"},it=300*1e3,lt=L({name:"ReloadPrompt",__name:"reload-prompt",setup(e){const{offlineReady:n,needRefresh:a,updateServiceWorker:r}=st({onRegisteredSW(t,o){o&&setInterval(async()=>{if(o.installing||!navigator||"connection"in navigator&&!navigator.onLine)return;const c=await fetch(t,{cache:"no-store",headers:{cache:"no-store","cache-control":"no-cache"}});(c==null?void 0:c.status)===200&&await o.update()},it)},onRegisterError(t){console.error("Service worker registration error",t)}});async function s(){n.value=!1,a.value=!1}return(t,o)=>m(a)?(y(),P("div",at,[l("div",rt,[o[1]||(o[1]=l("label",null,"新内容可用，单击刷新按钮更新",-1)),l("span",{onClick:o[0]||(o[0]=c=>m(r)())},"刷新"),l("span",{onClick:s},"关闭")])])):me("",!0)}}),ct="#88888825",ut=L({__name:"bg-plum",setup(e){const n=Math.PI,a=Math.PI/2,r=Math.PI/12,s=x(null),{random:t}=Math,o=D(xe()),c=x(()=>{}),d=x(4),p=x(6),i=x(!1);function u(w,g=400,T=400,A){const _=w.getContext("2d"),S=window.devicePixelRatio||1,$=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1,k=S/$;return w.style.width=`${g}px`,w.style.height=`${T}px`,w.width=k*g,w.height=k*T,_.scale(k,k),{ctx:_,dpi:k}}function v(w=0,g=0,T=0,A=0){const _=T*Math.cos(A),S=T*Math.sin(A);return[w+_,g+S]}Q(async()=>{const w=s.value,{ctx:g}=u(w,o.width,o.height),{width:T,height:A}=w;let _=[],S=[],$=0;const k=(W,ae,G)=>{const Pe=t()*p.value,[V,O]=v(W,ae,Pe,G);g.beginPath(),g.moveTo(W,ae),g.lineTo(V,O),g.stroke();const Se=G+t()*r,Te=G-t()*r;V<-100||V>o.width+100||O<-100||O>o.height+100||(($<=d.value||t()>.5)&&_.push(()=>k(V,O,Se)),($<=d.value||t()>.5)&&_.push(()=>k(V,O,Te)))};let U=performance.now();const K=1e3/40;let N;N=Re(()=>{performance.now()-U<K||($+=1,S=_,_=[],U=performance.now(),S.length||(N.pause(),i.value=!0),S.forEach(W=>W()))},{immediate:!1}),c.value=()=>{N.pause(),$=0,g.clearRect(0,0,T,A),g.lineWidth=1,g.strokeStyle=ct,S=[],_=[()=>k(t()*o.width,0,a),()=>k(t()*o.width,o.height,-a),()=>k(0,t()*o.height,0),()=>k(o.width,t()*o.height,n)],o.width<500&&(_=_.slice(0,2)),N.resume(),i.value=!1},c.value()});const M=q(()=>"radial-gradient(circle, transparent, black);");return(w,g)=>(y(),P("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:fe([{"z-index":"-1"},`mask-image: ${m(M)};--webkit-mask-image: ${m(M)};`])},[l("canvas",{ref_key:"el",ref:s,width:"400",height:"400"},null,512)],4))}});_e();const H=ge("globalStore",()=>{const e=D({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),n=s=>{e.showLoginModal=s},a=s=>{e.showRegisterModal=s},r=s=>{e.cookies=s};return{...C(e),setLoginModal:n,setRegisterModal:a,setCookies:r}}),oe=ge("appShellStore",()=>{const e=D({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),n=()=>{e.needPageTransition=!0},a=()=>{e.needPageTransition=!1},r=o=>{e.isPageSwitching=o},s=o=>{const{path:c,scrollTop:d}=o;e.historyPageScrollTop[c]=d},t=o=>{e.pageTransitionName=o};return{...C(e),enablePageTransition:n,disablePageTransition:a,setPageSwitching:r,saveScrollTop:s,setPageTransitionName:t}});function hn(){const e=Ie(),n=e.appContext.config.globalProperties,a=e.type;return{ctx:n,options:a}}function ye(e,n="auto"){const[a,r]=Ae(!1);return async(...s)=>{if(!a.value){r(!0);try{const t=await e(...s);(n===!0||n==="auto"&&t!==!1)&&r(!1)}catch(t){throw r(!1),t}}}}function vn(){const e=he(),n=oe(),{historyPageScrollTop:a}=Z(n);Le(()=>{const r=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,r)},500)}),Q(()=>{const r=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,r)},500)}),$e((r,s,t)=>{const o=Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop);o!==0&&n.saveScrollTop({path:s.fullPath,scrollTop:o}),t()})}function ce(e,n){return e=e||"123456",e=decodeURIComponent(e),n=n||256,`https://cravatar.cn/avatar/${Ce(e)}?s=${n}&d=identicon&r=g`}function E(e){let n,a;e?typeof e=="string"?(n=e,a="error"):(n=e.content,a=e.type):(n="接口返回数据错误",a="error"),Je[a](n)}const ue={api:"/api/",timeout:3e4};ee.interceptors.request.use(e=>e,e=>Promise.reject(e));ee.interceptors.response.use(e=>e,e=>{const n={};return n.config=e.config,n.data=null,n.headers=e.config.headers,n.status=e.code,n.statusText=e.message,n.request=e.request,Promise.resolve(n)});function Y(e){return e.status===200||e.status===304?e.data:e.status===401?{code:401,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:"您还没有登录, 或者登录超时!"}:e.status===429?{code:429,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:"请求过于频繁!"}:{code:-404,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:`接口返回数据错误, 错误代码: ${e.status||"未知"}`}}function J(e){return e.code===-500?window.location.href="/backend":e.code===-400?window.location.href="/":e.code!==200&&E(e.message),e}function dt(){const e=ee.create({baseURL:ue.api,headers:{"X-Requested-With":"XMLHttpRequest"},timeout:ue.timeout});return{async get(n,a,r={}){const s=await e({method:"get",url:n,params:a,headers:{...r}}),t=Y(s);return J(t)},async post(n,a,r={}){const s=await e({method:"post",url:n,data:Me.stringify(a),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",...r}}),t=Y(s);return J(t)},async file(n,a,r={}){const s=await e({method:"post",url:n,data:a,headers:{...r}}),t=Y(s);return J(t)}}}const se=dt(),pt={class:"modal modal-signup"},mt={class:"modal-content"},ft={class:"sign-up-form"},_t={class:"input-wrap"},gt={class:"input-wrap"},ht={class:"input-wrap"},vt={class:"input-wrap"},wt=L({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(e){const a=C(e),r=z(a,"show"),s=H(),t=D({username:"",email:"",password:"",re_password:""});function o(){s.setRegisterModal(!1)}function c(){s.setLoginModal(!0),s.setRegisterModal(!1)}const d=ye(async()=>{const p=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!t.username||!t.password||!t.email)return E("请将表单填写完整!");if(re(t.username)<4)return E("用户长度至少 2 个中文或 4 个英文!");if(p.test(t.email)){if(re(t.password)<8)return E("密码长度至少 8 位!");if(t.password!==t.re_password)return E("两次输入的密码不一致!")}else return E("邮箱格式错误!");const{code:i,message:u}=await se.post("frontend/user/insert",t);i===200&&(E({type:"success",content:u}),c())});return(p,i)=>(y(),P("div",{class:te(["modal-wrap modal-signup-wrap",r.value?"active":""])},[i[11]||(i[11]=l("span",{class:"center-helper"},null,-1)),l("div",pt,[i[10]||(i[10]=l("h2",{class:"modal-title"},"注册",-1)),l("a",{href:"javascript:;",class:"modal-close",onClick:o},[...i[5]||(i[5]=[l("i",{class:"icon icon-close-black"},null,-1)])]),l("div",mt,[l("form",ft,[l("div",_t,[I(l("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>m(t).username=u),type:"text",placeholder:"昵称",class:"base-input",name:"username",maxlength:"20"},null,512),[[B,m(t).username]]),i[6]||(i[6]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",gt,[I(l("input",{"onUpdate:modelValue":i[1]||(i[1]=u=>m(t).email=u),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[B,m(t).email]]),i[7]||(i[7]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",ht,[I(l("input",{"onUpdate:modelValue":i[2]||(i[2]=u=>m(t).password=u),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password",maxlength:"20"},null,512),[[B,m(t).password]]),i[8]||(i[8]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",vt,[I(l("input",{"onUpdate:modelValue":i[3]||(i[3]=u=>m(t).re_password=u),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password",maxlength:"20"},null,512),[[B,m(t).re_password]]),i[9]||(i[9]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:i[4]||(i[4]=(...u)=>m(d)&&m(d)(...u))},"确认注册"),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:c},"直接登录")])])])],2))}}),kt={class:"modal modal-signup"},yt={class:"modal-content"},bt={class:"sign-up-form"},Pt={class:"input-wrap"},St={class:"input-wrap"},Tt=L({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(e){const a=C(e),r=z(a,"show"),s=H(),t=D({username:"",password:""});function o(){s.setLoginModal(!1)}function c(){s.setLoginModal(!1),s.setRegisterModal(!0)}const d=ye(async()=>{if(!t.username||!t.password)return E("请将表单填写完整!");const{code:p,message:i}=await se.post("frontend/user/login",t);p===200&&(E({type:"success",content:i}),window.location.reload())});return(p,i)=>(y(),P("div",{class:te(["modal-wrap modal-sign-in-wrap",r.value?"active":""])},[i[7]||(i[7]=l("span",{class:"center-helper"},null,-1)),l("div",kt,[i[6]||(i[6]=l("h2",{class:"modal-title"},"登录",-1)),l("a",{href:"javascript:;",class:"modal-close",onClick:o},[...i[3]||(i[3]=[l("i",{class:"icon icon-close-black"},null,-1)])]),l("div",yt,[l("form",bt,[l("div",Pt,[I(l("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>m(t).username=u),type:"text",placeholder:"昵称",class:"base-input",name:"username",maxlength:"20"},null,512),[[B,m(t).username]]),i[4]||(i[4]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",St,[I(l("input",{"onUpdate:modelValue":i[1]||(i[1]=u=>m(t).password=u),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password",maxlength:"20"},null,512),[[B,m(t).password]]),i[5]||(i[5]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:i[2]||(i[2]=(...u)=>m(d)&&m(d)(...u))},"确认登录"),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:c},"我要注册")])])])],2))}}),Et={class:"back-top"},xt=L({name:"BackTop",__name:"back-top",setup(e){const{y:n}=Be();function a(){let r=n.value;const s=setInterval(()=>{r-=Math.abs(r*.1),r<=1&&(r=0,clearInterval(s)),window.scrollTo(0,r)},20)}return(r,s)=>I((y(),P("div",Et,[l("a",{href:"javascript:;",onClick:a})],512)),[[Ve,m(n)>500]])}}),Rt={key:0,class:"nav-me"},Lt=["src"],$t={key:1,class:"nav-me"},At=["src"],It=L({name:"UserIcon",__name:"user-avatar",setup(e){const n=H(),a=C(n),r=z(a,"cookies"),s=q(()=>!!r.value.user);function t(){n.setLoginModal(!0)}return(o,c)=>{const d=ne("router-link");return m(s)?(y(),P("span",Rt,[h(d,{to:"/user/account",class:"nav-me-link"},{default:R(()=>[l("img",{src:("useAvatar"in o?o.useAvatar:m(ce))(r.value.useremail,100),class:"nav-avatar-img"},null,8,Lt)]),_:1})])):(y(),P("span",$t,[l("a",{href:"javascript:;",class:"nav-me-link",onClick:t},[l("img",{src:("useAvatar"in o?o.useAvatar:m(ce))("noavatar"),class:"nav-avatar-img"},null,8,At)])]))}}}),Ct={class:"global-nav"},Mt={class:"wrap"},Bt={class:"left-part"},Vt={class:"main-nav"},Ot={key:0,class:"right-part"},Dt={class:"nav-search"},Ut=L({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(e){const a=C(e),r=z(a,"isBackend"),s=Oe();function t(o){const c=o.target.value;if(c==="")return!1;s.replace(`/search/${c}`)}return(o,c)=>{const d=ne("router-link"),p=It;return y(),P("nav",Ct,[l("div",Mt,[l("div",Bt,[h(d,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:R(()=>[...c[1]||(c[1]=[l("i",{class:"icon icon-nav-logo"},null,-1),l("span",{class:"hidden"},"M.M.F 小屋",-1)])]),_:1}),l("div",Vt,[h(d,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:R(()=>[...c[2]||(c[2]=[l("i",{class:"icon icon-nav-home"},null,-1),l("span",{class:"text"},"首页",-1)])]),_:1}),h(d,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:R(()=>[...c[3]||(c[3]=[l("i",{class:"icon icon-nav-explore"},null,-1),l("span",{class:"text"},"热门",-1)])]),_:1}),h(d,{to:"/about","active-class":"current",class:"nav-link"},{default:R(()=>[...c[4]||(c[4]=[l("i",{class:"icon icon-nav-features"},null,-1),l("span",{class:"text"},"关于",-1)])]),_:1}),c[5]||(c[5]=l("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[l("i",{class:"icon icon-nav-game"}),l("span",{class:"text"},"汉兜")],-1))])]),r.value?me("",!0):(y(),P("div",Ot,[l("span",Dt,[c[6]||(c[6]=l("i",{class:"icon icon-search-white"},null,-1)),l("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:c[0]||(c[0]=De(i=>t(i),["enter"]))},null,32)]),h(p)]))])])}}}),Nt=L({name:"AppRoot",__name:"app",setup(e){const n=H(),{showLoginModal:a,showRegisterModal:r,ISDEV:s}=C(n),t=oe(),{pageTransitionName:o}=Z(t),c=x("frontend-index,frontend-about"),d=he(),p=q(()=>(d.meta.path||d.path).replace(/\//g,"_")),i=q(()=>d.path.includes("backend"));function u(){t.setPageSwitching(!0)}function v(){t.setPageSwitching(!1)}return(M,w)=>{const g=Ut,T=ne("router-view"),A=xt,_=Tt,S=wt,$=ut,k=lt,U=et;return y(),P("div",{class:te(i.value?"backend":"frontend"),style:fe(m(s)?"display: none;":"")},[h(g,{"is-backend":i.value},null,8,["is-backend"]),h(T,{class:"app-view relative"},{default:R(({Component:K})=>[h(Ue,{name:m(o),mode:"out-in",onBeforeEnter:u,onAfterEnter:v},{default:R(()=>[(y(),X(Ne,{key:p.value,include:c.value},[(y(),X(We,null,{default:R(()=>[(y(),X(je(K),{key:p.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),h(A),h(U,null,{default:R(()=>[h(_,{show:m(a)},null,8,["show"]),h(S,{show:m(r)},null,8,["show"]),h($),h(k)]),_:1})],6)}}}),Wt=()=>f(()=>import("./404-3zDHFu4w.js"),__vite__mapDeps([2,3,0,1,4])),F=()=>f(()=>import("./frontend-index-M7sAK8YX.js"),__vite__mapDeps([5,6,0,1,3,7,4])),jt=()=>f(()=>import("./frontend-article-CVtDYRGr.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),Ft=()=>f(()=>import("./frontend-about-Bhp8E-hx.js"),__vite__mapDeps([10,3,0,1,4])),qt=()=>f(()=>import("./frontend-user-D5zugCvp.js"),__vite__mapDeps([11,0,1,4])),zt=()=>f(()=>import("./frontend-user-account-B927GONh.js"),__vite__mapDeps([12,13,0,1,4])),Ht=()=>f(()=>import("./frontend-user-password-CNILD_La.js"),__vite__mapDeps([14,13,0,1,4])),Kt=()=>f(()=>import("./backend-login-Ciov6i6I.js"),__vite__mapDeps([15,13,0,1,4])),Gt=()=>f(()=>import("./backend-index-De5XQc_C.js"),__vite__mapDeps([16,0,1])),Xt=()=>f(()=>import("./backend-article-list-CLy9G7LJ.js"),__vite__mapDeps([17,0,1,18,4])),Yt=()=>f(()=>import("./backend-article-insert-Cx7GHXAV.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Jt=()=>f(()=>import("./backend-article-modify-prDSgmkT.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),Qt=()=>f(()=>import("./backend-article-comment-DYgVXGM4.js"),__vite__mapDeps([22,0,1,9,4])),Zt=()=>f(()=>import("./backend-category-list-BVwLvHe5.js"),__vite__mapDeps([23,7,0,1,4])),en=()=>f(()=>import("./backend-category-insert-BRHOk7rp.js"),__vite__mapDeps([24,13,0,1,7,4])),tn=()=>f(()=>import("./backend-category-modify-C-NIGii0.js"),__vite__mapDeps([25,13,0,1,7,4])),nn=()=>f(()=>import("./backend-admin-list-Du0lf2g0.js"),__vite__mapDeps([26,0,1,27,4])),on=()=>f(()=>import("./backend-admin-modify-D_X71-hg.js"),__vite__mapDeps([28,13,0,1,27,4])),sn=()=>f(()=>import("./backend-user-list-D0itAUlJ.js"),__vite__mapDeps([29,0,1,30,4])),an=()=>f(()=>import("./backend-user-modify-COQgvUdY.js"),__vite__mapDeps([31,13,0,1,30,4]));function rn(e,n,a){const r=ve.get("user");we&&!r?a("/"):a()}function ln(e,n,a){const r=ve.get("b_user");we&&!r?a("/backend/login"):a()}const b={meta:{index:1,path:"/backend"},beforeEnter:ln},cn=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:F,meta:{index:1}},{name:"trending",path:"/trending/:by",component:F,meta:{index:1}},{name:"category",path:"/category/:id",component:F,meta:{index:1}},{name:"search",path:"/search/:key",component:F,meta:{index:1}},{name:"article",path:"/article/:id",component:jt,meta:{index:2}},{name:"about",path:"/about",component:Ft,meta:{index:1}},{name:"account",path:"/user",component:qt,meta:{index:1},beforeEnter:rn,children:[{path:"account",component:zt,meta:{path:"/user"}},{path:"password",component:Ht,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:Gt,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:Kt},{name:"admin_list",path:"admin/list",component:nn,...b},{name:"admin_modify",path:"admin/modify/:id",component:on,...b},{name:"article_list",path:"article/list",component:Xt,...b},{name:"article_insert",path:"article/insert",component:Yt,...b},{name:"article_modify",path:"article/modify/:id",component:Jt,...b},{name:"article_comment",path:"article/comment/:id",component:Qt,...b},{name:"category_list",path:"category/list",component:Zt,...b},{name:"category_insert",path:"category/insert",component:en,...b},{name:"category_modify",path:"category/modify/:id",component:tn,...b},{name:"user_list",path:"user/list",component:sn,...b},{name:"user_modify",path:"user/modify/:id",component:an,...b}]},{name:"404",path:"/:catchAll(.*)",component:Wt}];function un(e){const n=Fe({history:qe(),routes:cn}),a="slide-left",r="slide-right";return n.beforeEach((s,t,o)=>{const c=oe(e),{needPageTransition:d}=Z(c);if(d.value){let p;!t.meta.index||s.meta.index===t.meta.index?p="fade":s.meta.index>t.meta.index?p=a:p=r,c.setPageTransitionName(p)}o()}),n}console.log("当前环境: production");function dn(){const e=ze(Nt),n=_e(),a=un(n);return e.use(n).use(a).use(Ze),{app:e,router:a,store:n}}ke.use(He,{Prism:Ke,codeHighlightExtensionMap:{vue:"html"},extend(e){e.set({breaks:!0,html:!0,linkify:!0,typographer:!0})}}).use((ie.default||ie)());const{app:pn,router:de,store:be}=dn(),mn=Ge();de.isReady().then(()=>{de.beforeResolve(async(e,n)=>{let a=!1;const r=e.matched.filter((s,t)=>a||(a=n.matched[t]!==s)||n.path!==e.path);if(!r.length)return!1;await Promise.all(r.map(s=>{var o;const t=(o=s.components)==null?void 0:o.default;return t.asyncData?t.asyncData({store:be,route:e,api:se}):!0}))}),pn.use(mn).use(Xe.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(ke).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&(be.state.value=window.__INITIAL_STATE__);export{et as _,H as a,ye as b,se as c,ce as d,hn as e,oe as f,E as s,vn as u};
