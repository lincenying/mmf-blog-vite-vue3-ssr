const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-DKdHTvZr.js","assets/vendor-DPD6zcSa.css","assets/404-BIVh3JFz.js","assets/use-frontend-article-store-CY49C_lP.js","assets/unocss-CUgZewU3.css","assets/frontend-index-YlpSBuAi.js","assets/item-actions.vue_vue_type_script_setup_true_lang-C4gOOdAV.js","assets/use-global-category-store-DvT7TdiO.js","assets/frontend-article-BMXo76NW.js","assets/use-global-comment-store-1KkG4N2M.js","assets/frontend-about-DmvTrySV.js","assets/frontend-user-DIsn9XdR.js","assets/frontend-user-account-_pkoB4Ss.js","assets/a-input.vue_vue_type_script_setup_true_lang-BxWe9euv.js","assets/frontend-user-password-A5bzTTYu.js","assets/backend-login-DY2dMD8W.js","assets/backend-index-Baq-EtNb.js","assets/backend-article-list-1oQyfcFp.js","assets/use-backend-article-store-Cxe_NP5V.js","assets/backend-article-insert-CaiqG3I4.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-DQ579lda.js","assets/backend-article-comment-Crwg2vav.js","assets/backend-category-list-8k8mUmiM.js","assets/backend-category-insert-BMNt1Zph.js","assets/backend-category-modify-7BRmbdmN.js","assets/backend-admin-list-ChpjXSq3.js","assets/use-backend-admin-store-C9q-hF0y.js","assets/backend-admin-modify-Be1R0wOX.js","assets/backend-user-list-CBL9uy5g.js","assets/use-backend-user-store-QSrJOhV7.js","assets/backend-user-modify-BGplUcAl.js"])))=>i.map(i=>d[i]);
import{r as L,d as $,u as p,c as T,a as i,b as ce,o as y,E as Re,e as j,f as ue,g as Z,h as W,i as Se,j as Le,k as H,n as xe,l as Ae,w as C,v as $e,m as de,p as pe,t as M,q as Ie,s as Ce,x as me,y as ee,z as Me,A as Be,B as Ve,C as D,D as Oe,F as X,G as B,H as te,I as se,J as De,K as fe,L as k,M as x,N as We,T as Ne,O as Y,S as Ue,P as Fe,Q as je,R as qe,U as ze,V as _e,W as he,X as He,Y as Xe,Z as ge,_ as Ke,$ as Ge,a0 as Ye,a1 as Je}from"./vendor-DKdHTvZr.js";/* empty css               */(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function a(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(n){if(n.ep)return;n.ep=!0;const t=a(n);fetch(n.href,t)}})();const Qe="modulepreload",Ze=function(e){return"/"+e},ae={},_=function(s,a,o){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=Promise.allSettled(a.map(d=>{if(d=Ze(d),d in ae)return;ae[d]=!0;const m=d.endsWith(".css"),l=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":Qe,m||(c.as="script"),c.crossOrigin="",c.href=d,u&&c.setAttribute("nonce",u),document.head.appendChild(c),m)return new Promise((f,b)=>{c.addEventListener("load",f),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function t(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return n.then(r=>{for(const u of r||[])u.status==="rejected"&&t(u.reason);return s().catch(t)})};function et(e={}){const{immediate:s=!1,onNeedRefresh:a,onOfflineReady:o,onRegistered:n,onRegisteredSW:t,onRegisterError:r}=e;let u,d;const m=async(c=!0)=>{await d};async function l(){if("serviceWorker"in navigator){if(u=await _(async()=>{const{Workbox:c}=await import("./vendor-DKdHTvZr.js").then(f=>f.ag);return{Workbox:c}},__vite__mapDeps([0,1])).then(({Workbox:c})=>new c("/sw.js",{scope:"/",type:"classic"})).catch(c=>{r==null||r(c)}),!u)return;u.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),u.addEventListener("installed",c=>{c.isUpdate||o==null||o()}),u.register({immediate:s}).then(c=>{t?t("/sw.js",c):n==null||n(c)}).catch(c=>{r==null||r(c)})}}return d=l(),m}function tt(e={}){const{immediate:s=!0,onNeedRefresh:a,onOfflineReady:o,onRegistered:n,onRegisteredSW:t,onRegisterError:r}=e,u=L(!1),d=L(!1);return{updateServiceWorker:et({immediate:s,onNeedRefresh(){u.value=!0,a==null||a()},onOfflineReady(){d.value=!0,o==null||o()},onRegistered:n,onRegisteredSW:t,onRegisterError:r}),offlineReady:d,needRefresh:u}}const nt={key:0,id:"app-refresh",class:"app-refresh"},ot={class:"app-refresh-wrap"},ve=$({name:"ReloadPrompt",__name:"reload-prompt",setup(e){const{offlineReady:s,needRefresh:a,updateServiceWorker:o}=tt();async function n(){s.value=!1,a.value=!1}return(t,r)=>p(a)?(y(),T("div",nt,[i("div",ot,[r[1]||(r[1]=i("label",null,"新内容可用，单击刷新按钮更新",-1)),i("span",{onClick:r[0]||(r[0]=u=>p(o)())},"刷新"),i("span",{onClick:n},"关闭")])])):ce("",!0)}});function st(e){return e.use(Re),e.config.globalProperties.$msgbox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt,e.config.globalProperties.$message=ue,e}const at=ue;function rt(e){st(e)}const it={install:rt},lt=$({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(e,{slots:s}){const a=L(!1);return Z(()=>{a.value=!0}),o=>{var u;if(a.value)return(u=s.default)==null?void 0:u.call(s);const n=s.fallback||s.placeholder;if(n)return n();const t=o.fallback||o.placeholder||"",r=o.fallbackTag||o.placeholderTag||"span";return T(r,null,t)}}}),ct="#88888825",ut=$({__name:"bg-plum",setup(e){const s=Math.PI,a=Math.PI/2,o=Math.PI/12,n=L(null),{random:t}=Math,r=W(Se()),u=L(()=>{}),d=L(4),m=L(6),l=L(!1);function c(g,v=400,R=400,I){const h=g.getContext("2d"),E=window.devicePixelRatio||1,A=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1,w=E/A;return g.style.width=`${v}px`,g.style.height=`${R}px`,g.width=w*v,g.height=w*R,h.scale(w,w),{ctx:h,dpi:w}}function f(g=0,v=0,R=0,I=0){const h=R*Math.cos(I),E=R*Math.sin(I);return[g+h,v+E]}Z(async()=>{const g=n.value,{ctx:v}=c(g,r.width,r.height),{width:R,height:I}=g;let h=[],E=[],A=0;const w=(F,oe,G)=>{const Pe=t()*m.value,[V,O]=f(F,oe,Pe,G);v.beginPath(),v.moveTo(F,oe),v.lineTo(V,O),v.stroke();const Te=G+t()*o,Ee=G-t()*o;V<-100||V>r.width+100||O<-100||O>r.height+100||((A<=d.value||t()>.5)&&h.push(()=>w(V,O,Te)),(A<=d.value||t()>.5)&&h.push(()=>w(V,O,Ee)))};let N=performance.now();const be=1e3/40;let U;U=Le(()=>{performance.now()-N<be||(A+=1,E=h,h=[],N=performance.now(),E.length||(U.pause(),l.value=!0),E.forEach(F=>F()))},{immediate:!1}),u.value=()=>{U.pause(),A=0,v.clearRect(0,0,R,I),v.lineWidth=1,v.strokeStyle=ct,E=[],h=[()=>w(t()*r.width,0,a),()=>w(t()*r.width,r.height,-a),()=>w(0,t()*r.height,0),()=>w(r.width,t()*r.height,s)],r.width<500&&(h=h.slice(0,2)),U.resume(),l.value=!1},u.value()});const b=H(()=>"radial-gradient(circle, transparent, black);");return(g,v)=>(y(),T("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:xe([{"z-index":"-1"},`mask-image: ${p(b)};--webkit-mask-image: ${p(b)};`])},[i("canvas",{ref_key:"el",ref:n,width:"400",height:"400"},null,512)],4))}}),dt={class:"back-top"},pt=$({name:"BackTop",__name:"back-top",setup(e){const{y:s}=Ae();function a(){let o=s.value;const n=setInterval(()=>{o-=Math.abs(o*.1),o<=1&&(o=0,clearInterval(n)),window.scrollTo(0,o)},20)}return(o,n)=>C((y(),T("div",dt,[i("a",{href:"javascript:;",onClick:a})],512)),[[$e,p(s)>500]])}});de();const K=pe("globalStore",()=>{const e=W({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),s=n=>{e.showLoginModal=n},a=n=>{e.showRegisterModal=n},o=n=>{e.cookies=n};return{...M(e),setLoginModal:s,setRegisterModal:a,setCookies:o}}),ne=pe("appShellStore",()=>{const e=W({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),s=()=>{e.needPageTransition=!0},a=()=>{e.needPageTransition=!1},o=r=>{e.isPageSwitching=r},n=r=>{const{path:u,scrollTop:d}=r;e.historyPageScrollTop[u]=d},t=r=>{e.pageTransitionName=r};return{...M(e),enablePageTransition:s,disablePageTransition:a,setPageSwitching:o,saveScrollTop:n,setPageTransitionName:t}});function fn(){const e=Ve(),s=e.appContext.config.globalProperties,a=e.type;return{ctx:s,options:a}}function we(e,s="auto"){const[a,o]=Ie(!1);return async(...n)=>{if(!a.value){o(!0);try{const t=await e(...n);(s===!0||s==="auto"&&t!==!1)&&o(!1)}catch(t){throw o(!1),t}}}}function _n(){const e=me(),s=ne(),{historyPageScrollTop:a}=ee(s);Me(()=>{const o=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,o)},300)}),Z(()=>{const o=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,o)},300)}),Be((o,n,t)=>{s.saveScrollTop({path:n.fullPath,scrollTop:Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop)}),t()})}function re(e,s){return e=e||"123456",e=decodeURIComponent(e),s=s||256,`https://cravatar.cn/avatar/${Ce(e)}?s=${s}&d=identicon&r=g`}function S(e){let s,a;e?typeof e=="string"?(s=e,a="error"):(s=e.content,a=e.type):(s="接口返回数据错误",a="error"),at[a](s)}const q={api:"/api/",timeout:3e4};D.interceptors.request.use(e=>e,e=>Promise.reject(e));D.interceptors.response.use(e=>e,e=>Promise.resolve(e.response));function J(e){return e&&(e.status===200||e.status===304)?e.data:{code:-404,message:e&&e.statusText||"未知错误",data:""}}function Q(e){return e.code===-500?window.location.href="/backend":e.code===-400?window.location.href="/":e.code!==200&&S(e.message),e}function mt(){return{async file(e,s){const a=await D({method:"post",url:e,data:s,headers:{"X-Requested-With":"XMLHttpRequest"}}),o=J(a);return Q(o)},async post(e,s){const a=await D({method:"post",url:q.api+e,data:Oe.stringify(s),timeout:q.timeout,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),o=J(a);return Q(o)},async get(e,s){const a=await D({method:"get",url:q.api+e,params:s,timeout:q.timeout,headers:{"X-Requested-With":"XMLHttpRequest"}}),o=J(a);return Q(o)}}}const ke=mt(),ft={class:"modal modal-signup"},_t={class:"modal-content"},ht={class:"sign-up-form"},gt={class:"input-wrap"},vt={class:"input-wrap"},wt={class:"input-wrap"},kt={class:"input-wrap"},yt=$({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(e){const a=M(e),o=X(a,"show"),n=K(),t=W({username:"",email:"",password:"",re_password:""});function r(){n.setRegisterModal(!1)}function u(){n.setLoginModal(!0),n.setRegisterModal(!1)}const d=we(async()=>{const m=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!t.username||!t.password||!t.email)return S("请将表单填写完整!");if(se(t.username)<4)return S("用户长度至少 2 个中文或 4 个英文!");if(m.test(t.email)){if(se(t.password)<8)return S("密码长度至少 8 位!");if(t.password!==t.re_password)return S("两次输入的密码不一致!")}else return S("邮箱格式错误!");const{code:l,message:c}=await ke.post("frontend/user/insert",t);l===200&&(S({type:"success",content:c}),u())});return(m,l)=>(y(),T("div",{class:te(["modal-wrap modal-signup-wrap",o.value?"active":""])},[l[11]||(l[11]=i("span",{class:"center-helper"},null,-1)),i("div",ft,[l[10]||(l[10]=i("h2",{class:"modal-title"},"注册",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:r},l[5]||(l[5]=[i("i",{class:"icon icon-close-black"},null,-1)])),i("div",_t,[i("form",ht,[i("div",gt,[C(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>p(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[B,p(t).username]]),l[6]||(l[6]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",vt,[C(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>p(t).email=c),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[B,p(t).email]]),l[7]||(l[7]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",wt,[C(i("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>p(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[B,p(t).password]]),l[8]||(l[8]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",kt,[C(i("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>p(t).re_password=c),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password"},null,512),[[B,p(t).re_password]]),l[9]||(l[9]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[4]||(l[4]=(...c)=>p(d)&&p(d)(...c))},"确认注册"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"直接登录")])])])],2))}}),bt={class:"modal modal-signup"},Pt={class:"modal-content"},Tt={class:"sign-up-form"},Et={class:"input-wrap"},Rt={class:"input-wrap"},St=$({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(e){const a=M(e),o=X(a,"show"),n=K(),t=W({username:"",password:""});function r(){n.setLoginModal(!1)}function u(){n.setLoginModal(!1),n.setRegisterModal(!0)}const d=we(async()=>{if(!t.username||!t.password)return S("请将表单填写完整!");const{code:m,message:l}=await ke.post("frontend/user/login",t);m===200&&(S({type:"success",content:l}),window.location.reload())});return(m,l)=>(y(),T("div",{class:te(["modal-wrap modal-sign-in-wrap",o.value?"active":""])},[l[7]||(l[7]=i("span",{class:"center-helper"},null,-1)),i("div",bt,[l[6]||(l[6]=i("h2",{class:"modal-title"},"登录",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:r},l[3]||(l[3]=[i("i",{class:"icon icon-close-black"},null,-1)])),i("div",Pt,[i("form",Tt,[i("div",Et,[C(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>p(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[B,p(t).username]]),l[4]||(l[4]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",Rt,[C(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>p(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[B,p(t).password]]),l[5]||(l[5]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[2]||(l[2]=(...c)=>p(d)&&p(d)(...c))},"确认登录"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"我要注册")])])])],2))}}),Lt={class:"global-nav"},xt={class:"wrap"},At={class:"left-part"},$t={class:"main-nav"},It={key:0,class:"right-part"},Ct={class:"nav-search"},Mt={key:0,class:"nav-me"},Bt=["src"],Vt={key:1,class:"nav-me"},Ot=["src"],Dt=$({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(e){const a=M(e),o=X(a,"isBackend"),n=K(),t=M(n),r=X(t,"cookies"),u=H(()=>!!r.value.user);function d(){n.setLoginModal(!0)}const m=De();function l(c){const f=c.target.value;if(f==="")return!1;m.replace(`/search/${f}`)}return(c,f)=>{const b=fe("router-link");return y(),T("nav",Lt,[i("div",xt,[i("div",At,[k(b,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:x(()=>f[1]||(f[1]=[i("i",{class:"icon icon-nav-logo"},null,-1),i("span",{class:"hidden"},"M.M.F 小屋",-1)])),_:1}),i("div",$t,[k(b,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:x(()=>f[2]||(f[2]=[i("i",{class:"icon icon-nav-home"},null,-1),i("span",{class:"text"},"首页",-1)])),_:1}),k(b,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:x(()=>f[3]||(f[3]=[i("i",{class:"icon icon-nav-explore"},null,-1),i("span",{class:"text"},"热门",-1)])),_:1}),k(b,{to:"/about","active-class":"current",class:"nav-link"},{default:x(()=>f[4]||(f[4]=[i("i",{class:"icon icon-nav-features"},null,-1),i("span",{class:"text"},"关于",-1)])),_:1}),f[5]||(f[5]=i("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[i("i",{class:"icon icon-nav-game"}),i("span",{class:"text"},"汉兜")],-1))])]),o.value?ce("",!0):(y(),T("div",It,[i("span",Ct,[f[6]||(f[6]=i("i",{class:"icon icon-search-white"},null,-1)),i("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:f[0]||(f[0]=We(g=>l(g),["enter"]))},null,32)]),p(u)?(y(),T("span",Mt,[k(b,{to:"/user/account",class:"nav-me-link"},{default:x(()=>[i("img",{src:("useAvatar"in c?c.useAvatar:p(re))(r.value.useremail,100),class:"nav-avatar-img"},null,8,Bt)]),_:1})])):(y(),T("span",Vt,[i("a",{href:"javascript:;",class:"nav-me-link",onClick:d},[i("img",{src:("useAvatar"in c?c.useAvatar:p(re))("noavatar"),class:"nav-avatar-img"},null,8,Ot)])]))]))])])}}}),Wt=$({name:"AppRoot",__name:"app",setup(e){const s=K(),{showLoginModal:a,showRegisterModal:o}=M(s),n=ne(),{pageTransitionName:t}=ee(n),r=L("frontend-index,frontend-about"),u=me(),d=H(()=>(u.meta.path||u.path).replace(/\//g,"_")),m=H(()=>u.path.includes("backend"));function l(){n.setPageSwitching(!0)}function c(){n.setPageSwitching(!1)}return(f,b)=>{const g=Dt,v=fe("router-view"),R=St,I=yt,h=pt,E=ut,A=ve,w=lt;return y(),T("div",{class:te(m.value?"backend":"frontend")},[k(g,{"is-backend":m.value},null,8,["is-backend"]),k(v,{class:"app-view relative"},{default:x(({Component:N})=>[k(Ne,{name:p(t),mode:"out-in",onBeforeEnter:l,onAfterEnter:c},{default:x(()=>[(y(),Y(je,{key:d.value,include:r.value},[(y(),Y(Ue,null,{default:x(()=>[(y(),Y(Fe(N),{key:d.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),k(R,{show:p(a)},null,8,["show"]),k(I,{show:p(o)},null,8,["show"]),k(h),k(w,null,{default:x(()=>[k(E),k(A)]),_:1})],2)}}}),Nt=()=>_(()=>import("./404-BIVh3JFz.js"),__vite__mapDeps([2,3,0,1,4])),z=()=>_(()=>import("./frontend-index-YlpSBuAi.js"),__vite__mapDeps([5,6,0,1,3,7,4])),Ut=()=>_(()=>import("./frontend-article-BMXo76NW.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),Ft=()=>_(()=>import("./frontend-about-DmvTrySV.js"),__vite__mapDeps([10,3,0,1,4])),jt=()=>_(()=>import("./frontend-user-DIsn9XdR.js"),__vite__mapDeps([11,0,1,4])),qt=()=>_(()=>import("./frontend-user-account-_pkoB4Ss.js"),__vite__mapDeps([12,13,0,1,4])),zt=()=>_(()=>import("./frontend-user-password-A5bzTTYu.js"),__vite__mapDeps([14,13,0,1,4])),Ht=()=>_(()=>import("./backend-login-DY2dMD8W.js"),__vite__mapDeps([15,13,0,1,4])),Xt=()=>_(()=>import("./backend-index-Baq-EtNb.js"),__vite__mapDeps([16,0,1])),Kt=()=>_(()=>import("./backend-article-list-1oQyfcFp.js"),__vite__mapDeps([17,0,1,18,4])),Gt=()=>_(()=>import("./backend-article-insert-CaiqG3I4.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Yt=()=>_(()=>import("./backend-article-modify-DQ579lda.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),Jt=()=>_(()=>import("./backend-article-comment-Crwg2vav.js"),__vite__mapDeps([22,0,1,9,4])),Qt=()=>_(()=>import("./backend-category-list-8k8mUmiM.js"),__vite__mapDeps([23,7,0,1,4])),Zt=()=>_(()=>import("./backend-category-insert-BMNt1Zph.js"),__vite__mapDeps([24,13,0,1,7,4])),en=()=>_(()=>import("./backend-category-modify-7BRmbdmN.js"),__vite__mapDeps([25,13,0,1,7,4])),tn=()=>_(()=>import("./backend-admin-list-ChpjXSq3.js"),__vite__mapDeps([26,0,1,27,4])),nn=()=>_(()=>import("./backend-admin-modify-Be1R0wOX.js"),__vite__mapDeps([28,13,0,1,27,4])),on=()=>_(()=>import("./backend-user-list-CBL9uy5g.js"),__vite__mapDeps([29,0,1,30,4])),sn=()=>_(()=>import("./backend-user-modify-BGplUcAl.js"),__vite__mapDeps([31,13,0,1,30,4]));function an(e,s,a){const o=_e.get("user");he&&!o?a("/"):a()}function rn(e,s,a){const o=_e.get("b_user");he&&!o?a("/backend/login"):a()}const P={meta:{index:1,path:"/backend"},beforeEnter:rn},ln=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:z,meta:{index:1}},{name:"trending",path:"/trending/:by",component:z,meta:{index:1}},{name:"category",path:"/category/:id",component:z,meta:{index:1}},{name:"search",path:"/search/:key",component:z,meta:{index:1}},{name:"article",path:"/article/:id",component:Ut,meta:{index:2}},{name:"about",path:"/about",component:Ft,meta:{index:1}},{name:"account",path:"/user",component:jt,meta:{index:1},beforeEnter:an,children:[{path:"account",component:qt,meta:{path:"/user"}},{path:"password",component:zt,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:Xt,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:Ht},{name:"admin_list",path:"admin/list",component:tn,...P},{name:"admin_modify",path:"admin/modify/:id",component:nn,...P},{name:"article_list",path:"article/list",component:Kt,...P},{name:"article_insert",path:"article/insert",component:Gt,...P},{name:"article_modify",path:"article/modify/:id",component:Yt,...P},{name:"article_comment",path:"article/comment/:id",component:Jt,...P},{name:"category_list",path:"category/list",component:Qt,...P},{name:"category_insert",path:"category/insert",component:Zt,...P},{name:"category_modify",path:"category/modify/:id",component:en,...P},{name:"user_list",path:"user/list",component:on,...P},{name:"user_modify",path:"user/modify/:id",component:sn,...P}]},{name:"404",path:"/:catchAll(.*)",component:Nt}];function cn(e){const s=qe({history:ze(),routes:ln}),a="slide-left",o="slide-right";return s.beforeEach((n,t,r)=>{const u=ne(e),{needPageTransition:d}=ee(u);if(d.value){let m;!t.meta.index||n.meta.index===t.meta.index?m="fade":n.meta.index>t.meta.index?m=a:m=o,u.setPageTransitionName(m)}r()}),s}console.log("当前环境: production");function un(){const e=He(Wt),s=de(),a=cn(s),o=Xe();return e.use(s).use(a).use(o).use(it),{app:e,router:a,store:s,head:o}}ge.use(Ke,{Prism:Ge,codeHighlightExtensionMap:{vue:"html"}}).use(Ye());const{app:ie,router:le,store:ye}=un();le.isReady().then(()=>{le.beforeResolve(async(e,s)=>{let a=!1;const o=e.matched.filter((n,t)=>a||(a=s.matched[t]!==n)||s.path!==e.path);if(!o.length)return!1;await Promise.all(o.map(n=>{var r;const t=(r=n.components)==null?void 0:r.default;return t.asyncData?t.asyncData({store:ye,route:e}):!0}))}),ie.component("ReloadPrompt",ve),ie.use(Je.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(ge).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&(ye.state.value=window.__INITIAL_STATE__);export{lt as _,K as a,we as b,ke as c,re as d,fn as e,ne as f,S as s,_n as u};
