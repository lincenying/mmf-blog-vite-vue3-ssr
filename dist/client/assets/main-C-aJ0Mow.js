const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-BNfFymli.js","assets/vendor-BIoHi3bF.css","assets/404-vxVwbgRH.js","assets/use-frontend-article-store-VDGbFXEd.js","assets/unocss--QrptOon.css","assets/frontend-index-B7wz5SzN.js","assets/item-actions.vue_vue_type_script_setup_true_lang-Bff6yWLr.js","assets/use-global-category-store-BdIPzeg9.js","assets/frontend-article-DHaTLOHc.js","assets/use-global-comment-store-BcGjWwTS.js","assets/frontend-about-CILel8_U.js","assets/frontend-user-DWuZtsjC.js","assets/frontend-user-account-tr_DWWou.js","assets/a-input.vue_vue_type_script_setup_true_lang-vtPVtJw7.js","assets/frontend-user-password-BYcp74HQ.js","assets/backend-login-cbgq8YWi.js","assets/backend-index-BjKMTWJB.js","assets/backend-article-list-DzYgCccb.js","assets/use-backend-article-store-DQ_sWuxE.js","assets/backend-article-insert-DyTMFx_F.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-DQtpjUfI.js","assets/backend-article-comment-CAu20MSJ.js","assets/backend-category-list-DMaZvoQ6.js","assets/backend-category-insert-Bs12fzhb.js","assets/backend-category-modify-aql5ghvS.js","assets/backend-admin-list-Dt9w1ES6.js","assets/use-backend-admin-store-PPfMWtRC.js","assets/backend-admin-modify-BypVOkgu.js","assets/backend-user-list-COAcBJbi.js","assets/use-backend-user-store-DvS65OY-.js","assets/backend-user-modify-BO87Xtir.js"])))=>i.map(i=>d[i]);
import{r as x,d as $,c as T,a as de,u as m,o as k,b as l,E as pe,e as Re,f as j,g as Q,h as D,i as xe,j as Le,k as q,n as me,l as Ae,w as C,v as $e,m as fe,p as _e,t as B,q as Ie,s as Ce,x as ge,y as Z,z as Be,A as Me,B as Ve,C as ee,D as Oe,F as z,G as M,H as te,I as ae,J as y,K as L,L as De,M as he,N as Ne,T as Ue,O as X,P as We,S as je,Q as Fe,R as qe,U as ze,V as ve,W as we,X as He,Y as ye,Z as Ke,_ as Ge,$ as re,a0 as Xe,a1 as Ye}from"./vendor-BNfFymli.js";/* empty css               */(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function a(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(o){if(o.ep)return;o.ep=!0;const t=a(o);fetch(o.href,t)}})();const Je="modulepreload",Qe=function(e){return"/"+e},ie={},_=function(n,a,r){let o=Promise.resolve();if(a&&a.length>0){let f=function(p){return Promise.all(p.map(i=>Promise.resolve(i).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=f(a.map(p=>{if(p=Qe(p),p in ie)return;ie[p]=!0;const i=p.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${c}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":Je,i||(d.as="script"),d.crossOrigin="",d.href=p,u&&d.setAttribute("nonce",u),document.head.appendChild(d),i)return new Promise((b,h)=>{d.addEventListener("load",b),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${p}`)))})}))}function t(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return o.then(s=>{for(const u of s||[])u.status==="rejected"&&t(u.reason);return n().catch(t)})};function Ze(e={}){const{immediate:n=!1,onNeedRefresh:a,onOfflineReady:r,onRegistered:o,onRegisteredSW:t,onRegisterError:s}=e;let u,f;const p=async(c=!0)=>{await f};async function i(){if("serviceWorker"in navigator){if(u=await _(async()=>{const{Workbox:c}=await import("./vendor-BNfFymli.js").then(d=>d.ag);return{Workbox:c}},__vite__mapDeps([0,1])).then(({Workbox:c})=>new c("/sw.js",{scope:"/",type:"classic"})).catch(c=>{s==null||s(c)}),!u)return;u.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),u.addEventListener("installed",c=>{c.isUpdate||r==null||r()}),u.register({immediate:n}).then(c=>{t?t("/sw.js",c):o==null||o(c)}).catch(c=>{s==null||s(c)})}}return f=i(),p}function et(e={}){const{immediate:n=!0,onNeedRefresh:a,onOfflineReady:r,onRegistered:o,onRegisteredSW:t,onRegisterError:s}=e,u=x(!1),f=x(!1);return{updateServiceWorker:Ze({immediate:n,onNeedRefresh(){u.value=!0,a==null||a()},onOfflineReady(){f.value=!0,r==null||r()},onRegistered:o,onRegisteredSW:t,onRegisterError:s}),offlineReady:f,needRefresh:u}}const tt={key:0,id:"app-refresh",class:"app-refresh"},nt={class:"app-refresh-wrap"},ke=$({name:"ReloadPrompt",__name:"reload-prompt",setup(e){const{offlineReady:n,needRefresh:a,updateServiceWorker:r}=et();async function o(){n.value=!1,a.value=!1}return(t,s)=>m(a)?(k(),T("div",tt,[l("div",nt,[s[1]||(s[1]=l("label",null,"新内容可用，单击刷新按钮更新",-1)),l("span",{onClick:s[0]||(s[0]=u=>m(r)())},"刷新"),l("span",{onClick:o},"关闭")])])):de("",!0)}});function ot(e){return e.use(Re),e.config.globalProperties.$msgbox=j,e.config.globalProperties.$alert=j.alert,e.config.globalProperties.$confirm=j.confirm,e.config.globalProperties.$prompt=j.prompt,e.config.globalProperties.$message=pe,e}const st=pe;function at(e){ot(e)}const rt={install:at},it=$({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(e,{slots:n}){const a=x(!1);return Q(()=>{a.value=!0}),r=>{var u;if(a.value)return(u=n.default)==null?void 0:u.call(n);const o=n.fallback||n.placeholder;if(o)return o();const t=r.fallback||r.placeholder||"",s=r.fallbackTag||r.placeholderTag||"span";return T(s,null,t)}}}),lt="#88888825",ct=$({__name:"bg-plum",setup(e){const n=Math.PI,a=Math.PI/2,r=Math.PI/12,o=x(null),{random:t}=Math,s=D(xe()),u=x(()=>{}),f=x(4),p=x(6),i=x(!1);function c(h,v=400,E=400,I){const g=h.getContext("2d"),S=window.devicePixelRatio||1,A=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1,w=S/A;return h.style.width=`${v}px`,h.style.height=`${E}px`,h.width=w*v,h.height=w*E,g.scale(w,w),{ctx:g,dpi:w}}function d(h=0,v=0,E=0,I=0){const g=E*Math.cos(I),S=E*Math.sin(I);return[h+g,v+S]}Q(async()=>{const h=o.value,{ctx:v}=c(h,s.width,s.height),{width:E,height:I}=h;let g=[],S=[],A=0;const w=(W,se,G)=>{const Te=t()*p.value,[V,O]=d(W,se,Te,G);v.beginPath(),v.moveTo(W,se),v.lineTo(V,O),v.stroke();const Se=G+t()*r,Ee=G-t()*r;V<-100||V>s.width+100||O<-100||O>s.height+100||((A<=f.value||t()>.5)&&g.push(()=>w(V,O,Se)),(A<=f.value||t()>.5)&&g.push(()=>w(V,O,Ee)))};let N=performance.now();const K=1e3/40;let U;U=Le(()=>{performance.now()-N<K||(A+=1,S=g,g=[],N=performance.now(),S.length||(U.pause(),i.value=!0),S.forEach(W=>W()))},{immediate:!1}),u.value=()=>{U.pause(),A=0,v.clearRect(0,0,E,I),v.lineWidth=1,v.strokeStyle=lt,S=[],g=[()=>w(t()*s.width,0,a),()=>w(t()*s.width,s.height,-a),()=>w(0,t()*s.height,0),()=>w(s.width,t()*s.height,n)],s.width<500&&(g=g.slice(0,2)),U.resume(),i.value=!1},u.value()});const b=q(()=>"radial-gradient(circle, transparent, black);");return(h,v)=>(k(),T("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:me([{"z-index":"-1"},`mask-image: ${m(b)};--webkit-mask-image: ${m(b)};`])},[l("canvas",{ref_key:"el",ref:o,width:"400",height:"400"},null,512)],4))}}),ut={class:"back-top"},dt=$({name:"BackTop",__name:"back-top",setup(e){const{y:n}=Ae();function a(){let r=n.value;const o=setInterval(()=>{r-=Math.abs(r*.1),r<=1&&(r=0,clearInterval(o)),window.scrollTo(0,r)},20)}return(r,o)=>C((k(),T("div",ut,[l("a",{href:"javascript:;",onClick:a})],512)),[[$e,m(n)>500]])}});fe();const H=_e("globalStore",()=>{const e=D({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),n=o=>{e.showLoginModal=o},a=o=>{e.showRegisterModal=o},r=o=>{e.cookies=o};return{...B(e),setLoginModal:n,setRegisterModal:a,setCookies:r}}),ne=_e("appShellStore",()=>{const e=D({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),n=()=>{e.needPageTransition=!0},a=()=>{e.needPageTransition=!1},r=s=>{e.isPageSwitching=s},o=s=>{const{path:u,scrollTop:f}=s;e.historyPageScrollTop[u]=f},t=s=>{e.pageTransitionName=s};return{...B(e),enablePageTransition:n,disablePageTransition:a,setPageSwitching:r,saveScrollTop:o,setPageTransitionName:t}});function _n(){const e=Ve(),n=e.appContext.config.globalProperties,a=e.type;return{ctx:n,options:a}}function be(e,n="auto"){const[a,r]=Ie(!1);return async(...o)=>{if(!a.value){r(!0);try{const t=await e(...o);(n===!0||n==="auto"&&t!==!1)&&r(!1)}catch(t){throw r(!1),t}}}}function gn(){const e=ge(),n=ne(),{historyPageScrollTop:a}=Z(n);Be(()=>{const r=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,r)},300)}),Q(()=>{const r=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,r)},300)}),Me((r,o,t)=>{const s=Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop);s!==0&&n.saveScrollTop({path:o.fullPath,scrollTop:s}),t()})}function le(e,n){return e=e||"123456",e=decodeURIComponent(e),n=n||256,`https://cravatar.cn/avatar/${Ce(e)}?s=${n}&d=identicon&r=g`}function R(e){let n,a;e?typeof e=="string"?(n=e,a="error"):(n=e.content,a=e.type):(n="接口返回数据错误",a="error"),st[a](n)}const ce={api:"/api/",timeout:3e4};ee.interceptors.request.use(e=>e,e=>Promise.reject(e));ee.interceptors.response.use(e=>e,e=>{const n={};return n.config=e.config,n.data=null,n.headers=e.config.headers,n.status=e.code,n.statusText=e.message,n.request=e.request,Promise.resolve(n)});function Y(e){return e.status===200||e.status===304?e.data:e.status===401?{code:401,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:"您还没有登录, 或者登录超时!"}:{code:-404,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:`接口返回数据错误, 错误代码: ${e.status||"未知"}`}}function J(e){return e.code===-500?window.location.href="/backend":e.code===-400?window.location.href="/":e.code!==200&&R(e.message),e}function pt(){const e=ee.create({baseURL:ce.api,headers:{"X-Requested-With":"XMLHttpRequest"},timeout:ce.timeout});return{async get(n,a,r={}){const o=await e({method:"get",url:n,params:a,headers:{...r}}),t=Y(o);return J(t)},async post(n,a,r={}){const o=await e({method:"post",url:n,data:Oe.stringify(a),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",...r}}),t=Y(o);return J(t)},async file(n,a,r={}){const o=await e({method:"post",url:n,data:a,headers:{...r}}),t=Y(o);return J(t)}}}const oe=pt(),mt={class:"modal modal-signup"},ft={class:"modal-content"},_t={class:"sign-up-form"},gt={class:"input-wrap"},ht={class:"input-wrap"},vt={class:"input-wrap"},wt={class:"input-wrap"},yt=$({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(e){const a=B(e),r=z(a,"show"),o=H(),t=D({username:"",email:"",password:"",re_password:""});function s(){o.setRegisterModal(!1)}function u(){o.setLoginModal(!0),o.setRegisterModal(!1)}const f=be(async()=>{const p=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!t.username||!t.password||!t.email)return R("请将表单填写完整!");if(ae(t.username)<4)return R("用户长度至少 2 个中文或 4 个英文!");if(p.test(t.email)){if(ae(t.password)<8)return R("密码长度至少 8 位!");if(t.password!==t.re_password)return R("两次输入的密码不一致!")}else return R("邮箱格式错误!");const{code:i,message:c}=await oe.post("frontend/user/insert",t);i===200&&(R({type:"success",content:c}),u())});return(p,i)=>(k(),T("div",{class:te(["modal-wrap modal-signup-wrap",r.value?"active":""])},[i[11]||(i[11]=l("span",{class:"center-helper"},null,-1)),l("div",mt,[i[10]||(i[10]=l("h2",{class:"modal-title"},"注册",-1)),l("a",{href:"javascript:;",class:"modal-close",onClick:s},i[5]||(i[5]=[l("i",{class:"icon icon-close-black"},null,-1)])),l("div",ft,[l("form",_t,[l("div",gt,[C(l("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>m(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[M,m(t).username]]),i[6]||(i[6]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",ht,[C(l("input",{"onUpdate:modelValue":i[1]||(i[1]=c=>m(t).email=c),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[M,m(t).email]]),i[7]||(i[7]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",vt,[C(l("input",{"onUpdate:modelValue":i[2]||(i[2]=c=>m(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[M,m(t).password]]),i[8]||(i[8]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",wt,[C(l("input",{"onUpdate:modelValue":i[3]||(i[3]=c=>m(t).re_password=c),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password"},null,512),[[M,m(t).re_password]]),i[9]||(i[9]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:i[4]||(i[4]=(...c)=>m(f)&&m(f)(...c))},"确认注册"),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"直接登录")])])])],2))}}),kt={class:"modal modal-signup"},bt={class:"modal-content"},Pt={class:"sign-up-form"},Tt={class:"input-wrap"},St={class:"input-wrap"},Et=$({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(e){const a=B(e),r=z(a,"show"),o=H(),t=D({username:"",password:""});function s(){o.setLoginModal(!1)}function u(){o.setLoginModal(!1),o.setRegisterModal(!0)}const f=be(async()=>{if(!t.username||!t.password)return R("请将表单填写完整!");const{code:p,message:i}=await oe.post("frontend/user/login",t);p===200&&(R({type:"success",content:i}),window.location.reload())});return(p,i)=>(k(),T("div",{class:te(["modal-wrap modal-sign-in-wrap",r.value?"active":""])},[i[7]||(i[7]=l("span",{class:"center-helper"},null,-1)),l("div",kt,[i[6]||(i[6]=l("h2",{class:"modal-title"},"登录",-1)),l("a",{href:"javascript:;",class:"modal-close",onClick:s},i[3]||(i[3]=[l("i",{class:"icon icon-close-black"},null,-1)])),l("div",bt,[l("form",Pt,[l("div",Tt,[C(l("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>m(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[M,m(t).username]]),i[4]||(i[4]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("div",St,[C(l("input",{"onUpdate:modelValue":i[1]||(i[1]=c=>m(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[M,m(t).password]]),i[5]||(i[5]=l("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:i[2]||(i[2]=(...c)=>m(f)&&m(f)(...c))},"确认登录"),l("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"我要注册")])])])],2))}}),Rt={class:"global-nav"},xt={class:"wrap"},Lt={class:"left-part"},At={class:"main-nav"},$t={key:0,class:"right-part"},It={class:"nav-search"},Ct={key:0,class:"nav-me"},Bt=["src"],Mt={key:1,class:"nav-me"},Vt=["src"],Ot=$({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(e){const a=B(e),r=z(a,"isBackend"),o=H(),t=B(o),s=z(t,"cookies"),u=q(()=>!!s.value.user);function f(){o.setLoginModal(!0)}const p=Ne();function i(c){const d=c.target.value;if(d==="")return!1;p.replace(`/search/${d}`)}return(c,d)=>{const b=he("router-link");return k(),T("nav",Rt,[l("div",xt,[l("div",Lt,[y(b,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:L(()=>d[1]||(d[1]=[l("i",{class:"icon icon-nav-logo"},null,-1),l("span",{class:"hidden"},"M.M.F 小屋",-1)])),_:1,__:[1]}),l("div",At,[y(b,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:L(()=>d[2]||(d[2]=[l("i",{class:"icon icon-nav-home"},null,-1),l("span",{class:"text"},"首页",-1)])),_:1,__:[2]}),y(b,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:L(()=>d[3]||(d[3]=[l("i",{class:"icon icon-nav-explore"},null,-1),l("span",{class:"text"},"热门",-1)])),_:1,__:[3]}),y(b,{to:"/about","active-class":"current",class:"nav-link"},{default:L(()=>d[4]||(d[4]=[l("i",{class:"icon icon-nav-features"},null,-1),l("span",{class:"text"},"关于",-1)])),_:1,__:[4]}),d[5]||(d[5]=l("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[l("i",{class:"icon icon-nav-game"}),l("span",{class:"text"},"汉兜")],-1))])]),r.value?de("",!0):(k(),T("div",$t,[l("span",It,[d[6]||(d[6]=l("i",{class:"icon icon-search-white"},null,-1)),l("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:d[0]||(d[0]=De(h=>i(h),["enter"]))},null,32)]),m(u)?(k(),T("span",Ct,[y(b,{to:"/user/account",class:"nav-me-link"},{default:L(()=>[l("img",{src:("useAvatar"in c?c.useAvatar:m(le))(s.value.useremail,100),class:"nav-avatar-img"},null,8,Bt)]),_:1})])):(k(),T("span",Mt,[l("a",{href:"javascript:;",class:"nav-me-link",onClick:f},[l("img",{src:("useAvatar"in c?c.useAvatar:m(le))("noavatar"),class:"nav-avatar-img"},null,8,Vt)])]))]))])])}}}),Dt=$({name:"AppRoot",__name:"app",setup(e){const n=H(),{showLoginModal:a,showRegisterModal:r,ISDEV:o}=B(n),t=ne(),{pageTransitionName:s}=Z(t),u=x("frontend-index,frontend-about"),f=ge(),p=q(()=>(f.meta.path||f.path).replace(/\//g,"_")),i=q(()=>f.path.includes("backend"));function c(){t.setPageSwitching(!0)}function d(){t.setPageSwitching(!1)}return(b,h)=>{const v=Ot,E=he("router-view"),I=Et,g=yt,S=dt,A=ct,w=ke,N=it;return k(),T("div",{class:te(i.value?"backend":"frontend"),style:me(m(o)?"display: none;":"")},[y(v,{"is-backend":i.value},null,8,["is-backend"]),y(E,{class:"app-view relative"},{default:L(({Component:K})=>[y(Ue,{name:m(s),mode:"out-in",onBeforeEnter:c,onAfterEnter:d},{default:L(()=>[(k(),X(We,{key:p.value,include:u.value},[(k(),X(je,null,{default:L(()=>[(k(),X(Fe(K),{key:p.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),y(I,{show:m(a)},null,8,["show"]),y(g,{show:m(r)},null,8,["show"]),y(S),y(N,null,{default:L(()=>[y(A),y(w)]),_:1})],6)}}}),Nt=()=>_(()=>import("./404-vxVwbgRH.js"),__vite__mapDeps([2,3,0,1,4])),F=()=>_(()=>import("./frontend-index-B7wz5SzN.js"),__vite__mapDeps([5,6,0,1,3,7,4])),Ut=()=>_(()=>import("./frontend-article-DHaTLOHc.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),Wt=()=>_(()=>import("./frontend-about-CILel8_U.js"),__vite__mapDeps([10,3,0,1,4])),jt=()=>_(()=>import("./frontend-user-DWuZtsjC.js"),__vite__mapDeps([11,0,1,4])),Ft=()=>_(()=>import("./frontend-user-account-tr_DWWou.js"),__vite__mapDeps([12,13,0,1,4])),qt=()=>_(()=>import("./frontend-user-password-BYcp74HQ.js"),__vite__mapDeps([14,13,0,1,4])),zt=()=>_(()=>import("./backend-login-cbgq8YWi.js"),__vite__mapDeps([15,13,0,1,4])),Ht=()=>_(()=>import("./backend-index-BjKMTWJB.js"),__vite__mapDeps([16,0,1])),Kt=()=>_(()=>import("./backend-article-list-DzYgCccb.js"),__vite__mapDeps([17,0,1,18,4])),Gt=()=>_(()=>import("./backend-article-insert-DyTMFx_F.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Xt=()=>_(()=>import("./backend-article-modify-DQtpjUfI.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),Yt=()=>_(()=>import("./backend-article-comment-CAu20MSJ.js"),__vite__mapDeps([22,0,1,9,4])),Jt=()=>_(()=>import("./backend-category-list-DMaZvoQ6.js"),__vite__mapDeps([23,7,0,1,4])),Qt=()=>_(()=>import("./backend-category-insert-Bs12fzhb.js"),__vite__mapDeps([24,13,0,1,7,4])),Zt=()=>_(()=>import("./backend-category-modify-aql5ghvS.js"),__vite__mapDeps([25,13,0,1,7,4])),en=()=>_(()=>import("./backend-admin-list-Dt9w1ES6.js"),__vite__mapDeps([26,0,1,27,4])),tn=()=>_(()=>import("./backend-admin-modify-BypVOkgu.js"),__vite__mapDeps([28,13,0,1,27,4])),nn=()=>_(()=>import("./backend-user-list-COAcBJbi.js"),__vite__mapDeps([29,0,1,30,4])),on=()=>_(()=>import("./backend-user-modify-BO87Xtir.js"),__vite__mapDeps([31,13,0,1,30,4]));function sn(e,n,a){const r=ve.get("user");we&&!r?a("/"):a()}function an(e,n,a){const r=ve.get("b_user");we&&!r?a("/backend/login"):a()}const P={meta:{index:1,path:"/backend"},beforeEnter:an},rn=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:F,meta:{index:1}},{name:"trending",path:"/trending/:by",component:F,meta:{index:1}},{name:"category",path:"/category/:id",component:F,meta:{index:1}},{name:"search",path:"/search/:key",component:F,meta:{index:1}},{name:"article",path:"/article/:id",component:Ut,meta:{index:2}},{name:"about",path:"/about",component:Wt,meta:{index:1}},{name:"account",path:"/user",component:jt,meta:{index:1},beforeEnter:sn,children:[{path:"account",component:Ft,meta:{path:"/user"}},{path:"password",component:qt,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:Ht,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:zt},{name:"admin_list",path:"admin/list",component:en,...P},{name:"admin_modify",path:"admin/modify/:id",component:tn,...P},{name:"article_list",path:"article/list",component:Kt,...P},{name:"article_insert",path:"article/insert",component:Gt,...P},{name:"article_modify",path:"article/modify/:id",component:Xt,...P},{name:"article_comment",path:"article/comment/:id",component:Yt,...P},{name:"category_list",path:"category/list",component:Jt,...P},{name:"category_insert",path:"category/insert",component:Qt,...P},{name:"category_modify",path:"category/modify/:id",component:Zt,...P},{name:"user_list",path:"user/list",component:nn,...P},{name:"user_modify",path:"user/modify/:id",component:on,...P}]},{name:"404",path:"/:catchAll(.*)",component:Nt}];function ln(e){const n=qe({history:ze(),routes:rn}),a="slide-left",r="slide-right";return n.beforeEach((o,t,s)=>{const u=ne(e),{needPageTransition:f}=Z(u);if(f.value){let p;!t.meta.index||o.meta.index===t.meta.index?p="fade":o.meta.index>t.meta.index?p=a:p=r,u.setPageTransitionName(p)}s()}),n}console.log("当前环境: production");function cn(){const e=He(Dt),n=fe(),a=ln(n);return e.use(n).use(a).use(rt),{app:e,router:a,store:n}}ye.use(Ke,{Prism:Ge,codeHighlightExtensionMap:{vue:"html"}}).use((re.default||re)());const{app:un,router:ue,store:Pe}=cn(),dn=Xe();ue.isReady().then(()=>{ue.beforeResolve(async(e,n)=>{let a=!1;const r=e.matched.filter((o,t)=>a||(a=n.matched[t]!==o)||n.path!==e.path);if(!r.length)return!1;await Promise.all(r.map(o=>{var s;const t=(s=o.components)==null?void 0:s.default;return t.asyncData?t.asyncData({store:Pe,route:e,api:oe}):!0}))}),un.use(dn).use(Ye.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(ye).component("ReloadPrompt",ke).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&(Pe.state.value=window.__INITIAL_STATE__);export{it as _,H as a,be as b,oe as c,le as d,_n as e,ne as f,R as s,gn as u};
