const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-C9sq69wz.js","assets/vendor-D4v2z-xH.css","assets/404-HMc2HvVo.js","assets/use-frontend-article-store-Cbi9lfLI.js","assets/unocss-CUgZewU3.css","assets/frontend-index-DpdJ197F.js","assets/item-actions.vue_vue_type_script_setup_true_lang-DQauw9U4.js","assets/use-global-category-store-qt0vshYs.js","assets/frontend-article-BB3oTOvB.js","assets/use-global-comment-store-BbpCb2K3.js","assets/frontend-about-D6Eiwdof.js","assets/frontend-user-AGWzg4AP.js","assets/frontend-user-account-DCYpUGnB.js","assets/a-input.vue_vue_type_script_setup_true_lang-CpKf6M5b.js","assets/frontend-user-password-eH9wKWWM.js","assets/backend-login-DdPeNnOi.js","assets/backend-index-Bw-Ho1e5.js","assets/backend-article-list-Da4w17lI.js","assets/use-backend-article-store-BQw8JYXE.js","assets/backend-article-insert-Dmj6K7Z9.js","assets/upload-api-B8RxlIE4.js","assets/backend-article-modify-CcXEN6q5.js","assets/backend-article-comment-DbCFcplQ.js","assets/backend-category-list-Q1-YjIEk.js","assets/backend-category-insert-B6iFG82P.js","assets/backend-category-modify-TcTX7g8a.js","assets/backend-admin-list-DfVAe0rg.js","assets/use-backend-admin-store-Q5zcUgx_.js","assets/backend-admin-modify-DEaBiHsD.js","assets/backend-user-list-BG8X8qA1.js","assets/use-backend-user-store-cRfGoKWw.js","assets/backend-user-modify-D--GOHZv.js"])))=>i.map(i=>d[i]);
import{r as x,d as A,c as T,a as ce,u as p,o as y,b as i,E as Ee,e as F,f as ue,g as Z,h as W,i as Re,j as xe,k as H,n as Le,l as $e,w as C,v as Ae,m as de,p as pe,t as M,q as Ie,s as Ce,x as me,y as ee,z as Me,A as Be,B as Ve,C as D,D as Oe,F as X,G as B,H as te,I as se,J as k,K as L,L as De,M as fe,N as We,T as Ne,O as Y,P as Ue,S as qe,Q as Fe,R as je,U as ze,V as _e,W as ge,X as He,Y as Xe,Z as he,_ as Ke,$ as Ge,a0 as Ye,a1 as Je}from"./vendor-C9sq69wz.js";/* empty css               */(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(o){if(o.ep)return;o.ep=!0;const t=a(o);fetch(o.href,t)}})();const Qe="modulepreload",Ze=function(e){return"/"+e},ae={},_=function(n,a,s){let o=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(a.map(d=>{if(d=Ze(d),d in ae)return;ae[d]=!0;const m=d.endsWith(".css"),l=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":Qe,m||(c.as="script"),c.crossOrigin="",c.href=d,u&&c.setAttribute("nonce",u),document.head.appendChild(c),m)return new Promise((f,b)=>{c.addEventListener("load",f),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function t(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return o.then(r=>{for(const u of r||[])u.status==="rejected"&&t(u.reason);return n().catch(t)})};function et(e={}){const{immediate:n=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:o,onRegisteredSW:t,onRegisterError:r}=e;let u,d;const m=async(c=!0)=>{await d};async function l(){if("serviceWorker"in navigator){if(u=await _(async()=>{const{Workbox:c}=await import("./vendor-C9sq69wz.js").then(f=>f.ag);return{Workbox:c}},__vite__mapDeps([0,1])).then(({Workbox:c})=>new c("/sw.js",{scope:"/",type:"classic"})).catch(c=>{r==null||r(c)}),!u)return;u.addEventListener("activated",c=>{(c.isUpdate||c.isExternal)&&window.location.reload()}),u.addEventListener("installed",c=>{c.isUpdate||s==null||s()}),u.register({immediate:n}).then(c=>{t?t("/sw.js",c):o==null||o(c)}).catch(c=>{r==null||r(c)})}}return d=l(),m}function tt(e={}){const{immediate:n=!0,onNeedRefresh:a,onOfflineReady:s,onRegistered:o,onRegisteredSW:t,onRegisterError:r}=e,u=x(!1),d=x(!1);return{updateServiceWorker:et({immediate:n,onNeedRefresh(){u.value=!0,a==null||a()},onOfflineReady(){d.value=!0,s==null||s()},onRegistered:o,onRegisteredSW:t,onRegisterError:r}),offlineReady:d,needRefresh:u}}const nt={key:0,id:"app-refresh",class:"app-refresh"},ot={class:"app-refresh-wrap"},ve=A({name:"ReloadPrompt",__name:"reload-prompt",setup(e){const{offlineReady:n,needRefresh:a,updateServiceWorker:s}=tt();async function o(){n.value=!1,a.value=!1}return(t,r)=>p(a)?(y(),T("div",nt,[i("div",ot,[r[1]||(r[1]=i("label",null,"新内容可用，单击刷新按钮更新",-1)),i("span",{onClick:r[0]||(r[0]=u=>p(s)())},"刷新"),i("span",{onClick:o},"关闭")])])):ce("",!0)}});function st(e){return e.use(Ee),e.config.globalProperties.$msgbox=F,e.config.globalProperties.$alert=F.alert,e.config.globalProperties.$confirm=F.confirm,e.config.globalProperties.$prompt=F.prompt,e.config.globalProperties.$message=ue,e}const at=ue;function rt(e){st(e)}const it={install:rt},lt=A({name:"ClientOnly",props:{fallback:String,placeholder:String,placeholderTag:String,fallbackTag:String},setup(e,{slots:n}){const a=x(!1);return Z(()=>{a.value=!0}),s=>{var u;if(a.value)return(u=n.default)==null?void 0:u.call(n);const o=n.fallback||n.placeholder;if(o)return o();const t=s.fallback||s.placeholder||"",r=s.fallbackTag||s.placeholderTag||"span";return T(r,null,t)}}}),ct="#88888825",ut=A({__name:"bg-plum",setup(e){const n=Math.PI,a=Math.PI/2,s=Math.PI/12,o=x(null),{random:t}=Math,r=W(Re()),u=x(()=>{}),d=x(4),m=x(6),l=x(!1);function c(h,v=400,E=400,I){const g=h.getContext("2d"),S=window.devicePixelRatio||1,$=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1,w=S/$;return h.style.width=`${v}px`,h.style.height=`${E}px`,h.width=w*v,h.height=w*E,g.scale(w,w),{ctx:g,dpi:w}}function f(h=0,v=0,E=0,I=0){const g=E*Math.cos(I),S=E*Math.sin(I);return[h+g,v+S]}Z(async()=>{const h=o.value,{ctx:v}=c(h,r.width,r.height),{width:E,height:I}=h;let g=[],S=[],$=0;const w=(q,oe,G)=>{const Pe=t()*m.value,[V,O]=f(q,oe,Pe,G);v.beginPath(),v.moveTo(q,oe),v.lineTo(V,O),v.stroke();const Te=G+t()*s,Se=G-t()*s;V<-100||V>r.width+100||O<-100||O>r.height+100||(($<=d.value||t()>.5)&&g.push(()=>w(V,O,Te)),($<=d.value||t()>.5)&&g.push(()=>w(V,O,Se)))};let N=performance.now();const be=1e3/40;let U;U=xe(()=>{performance.now()-N<be||($+=1,S=g,g=[],N=performance.now(),S.length||(U.pause(),l.value=!0),S.forEach(q=>q()))},{immediate:!1}),u.value=()=>{U.pause(),$=0,v.clearRect(0,0,E,I),v.lineWidth=1,v.strokeStyle=ct,S=[],g=[()=>w(t()*r.width,0,a),()=>w(t()*r.width,r.height,-a),()=>w(0,t()*r.height,0),()=>w(r.width,t()*r.height,n)],r.width<500&&(g=g.slice(0,2)),U.resume(),l.value=!1},u.value()});const b=H(()=>"radial-gradient(circle, transparent, black);");return(h,v)=>(y(),T("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:Le([{"z-index":"-1"},`mask-image: ${p(b)};--webkit-mask-image: ${p(b)};`])},[i("canvas",{ref_key:"el",ref:o,width:"400",height:"400"},null,512)],4))}}),dt={class:"back-top"},pt=A({name:"BackTop",__name:"back-top",setup(e){const{y:n}=$e();function a(){let s=n.value;const o=setInterval(()=>{s-=Math.abs(s*.1),s<=1&&(s=0,clearInterval(o)),window.scrollTo(0,s)},20)}return(s,o)=>C((y(),T("div",dt,[i("a",{href:"javascript:;",onClick:a})],512)),[[Ae,p(n)>500]])}});de();const K=pe("globalStore",()=>{const e=W({loading:!1,cookies:{},showLoginModal:!1,showRegisterModal:!1,ISDEV:!1,ISPRE:!1,ISPROD:!0}),n=o=>{e.showLoginModal=o},a=o=>{e.showRegisterModal=o},s=o=>{e.cookies=o};return{...M(e),setLoginModal:n,setRegisterModal:a,setCookies:s}}),ne=pe("appShellStore",()=>{const e=W({needPageTransition:!0,isPageSwitching:!1,pageTransitionName:"",historyPageScrollTop:{}}),n=()=>{e.needPageTransition=!0},a=()=>{e.needPageTransition=!1},s=r=>{e.isPageSwitching=r},o=r=>{const{path:u,scrollTop:d}=r;e.historyPageScrollTop[u]=d},t=r=>{e.pageTransitionName=r};return{...M(e),enablePageTransition:n,disablePageTransition:a,setPageSwitching:s,saveScrollTop:o,setPageTransitionName:t}});function fn(){const e=Ve(),n=e.appContext.config.globalProperties,a=e.type;return{ctx:n,options:a}}function we(e,n="auto"){const[a,s]=Ie(!1);return async(...o)=>{if(!a.value){s(!0);try{const t=await e(...o);(n===!0||n==="auto"&&t!==!1)&&s(!1)}catch(t){throw s(!1),t}}}}function _n(){const e=me(),n=ne(),{historyPageScrollTop:a}=ee(n);Me(()=>{const s=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,s)},300)}),Z(()=>{const s=a.value[e.fullPath]||0;setTimeout(()=>{window.scrollTo(0,s)},300)}),Be((s,o,t)=>{n.saveScrollTop({path:o.fullPath,scrollTop:Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop)}),t()})}function re(e,n){return e=e||"123456",e=decodeURIComponent(e),n=n||256,`https://cravatar.cn/avatar/${Ce(e)}?s=${n}&d=identicon&r=g`}function R(e){let n,a;e?typeof e=="string"?(n=e,a="error"):(n=e.content,a=e.type):(n="接口返回数据错误",a="error"),at[a](n)}const j={api:"/api/",timeout:3e4};D.interceptors.request.use(e=>e,e=>Promise.reject(e));D.interceptors.response.use(e=>e,e=>{const n={};return n.config=e.config,n.data=null,n.headers=e.config.headers,n.status=e.code,n.statusText=e.message,n.request=e.request,Promise.resolve(n)});function J(e){return e.status===200||e.status===304?e.data:e.status===401?{code:401,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:"您还没有登录, 或者登录超时!"}:{code:-404,info:e.statusText||e.toString(),data:e.statusText||e.toString(),message:`接口返回数据错误, 错误代码: ${e.status||"未知"}`}}function Q(e){return e.code===-500?window.location.href="/backend":e.code===-400?window.location.href="/":e.code!==200&&R(e.message),e}function mt(){return{async file(e,n){const a=await D({method:"post",url:e,data:n,headers:{"X-Requested-With":"XMLHttpRequest"}}),s=J(a);return Q(s)},async post(e,n){const a=await D({method:"post",url:j.api+e,data:Oe.stringify(n),timeout:j.timeout,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}),s=J(a);return Q(s)},async get(e,n){const a=await D({method:"get",url:j.api+e,params:n,timeout:j.timeout,headers:{"X-Requested-With":"XMLHttpRequest"}}),s=J(a);return Q(s)}}}const ke=mt(),ft={class:"modal modal-signup"},_t={class:"modal-content"},gt={class:"sign-up-form"},ht={class:"input-wrap"},vt={class:"input-wrap"},wt={class:"input-wrap"},kt={class:"input-wrap"},yt=A({name:"SignUp",__name:"sign-up",props:{show:{type:Boolean}},setup(e){const a=M(e),s=X(a,"show"),o=K(),t=W({username:"",email:"",password:"",re_password:""});function r(){o.setRegisterModal(!1)}function u(){o.setLoginModal(!0),o.setRegisterModal(!1)}const d=we(async()=>{const m=/^[\w\-.]+@[\w-]+\.[\w-]+$/;if(!t.username||!t.password||!t.email)return R("请将表单填写完整!");if(se(t.username)<4)return R("用户长度至少 2 个中文或 4 个英文!");if(m.test(t.email)){if(se(t.password)<8)return R("密码长度至少 8 位!");if(t.password!==t.re_password)return R("两次输入的密码不一致!")}else return R("邮箱格式错误!");const{code:l,message:c}=await ke.post("frontend/user/insert",t);l===200&&(R({type:"success",content:c}),u())});return(m,l)=>(y(),T("div",{class:te(["modal-wrap modal-signup-wrap",s.value?"active":""])},[l[11]||(l[11]=i("span",{class:"center-helper"},null,-1)),i("div",ft,[l[10]||(l[10]=i("h2",{class:"modal-title"},"注册",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:r},l[5]||(l[5]=[i("i",{class:"icon icon-close-black"},null,-1)])),i("div",_t,[i("form",gt,[i("div",ht,[C(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>p(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[B,p(t).username]]),l[6]||(l[6]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",vt,[C(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>p(t).email=c),type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,512),[[B,p(t).email]]),l[7]||(l[7]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",wt,[C(i("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>p(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[B,p(t).password]]),l[8]||(l[8]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",kt,[C(i("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>p(t).re_password=c),type:"password",placeholder:"重复密码",class:"base-input",autocomplete:"off",name:"re_password"},null,512),[[B,p(t).re_password]]),l[9]||(l[9]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[4]||(l[4]=(...c)=>p(d)&&p(d)(...c))},"确认注册"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"直接登录")])])])],2))}}),bt={class:"modal modal-signup"},Pt={class:"modal-content"},Tt={class:"sign-up-form"},St={class:"input-wrap"},Et={class:"input-wrap"},Rt=A({name:"SignIn",__name:"sign-in",props:{show:{type:Boolean}},setup(e){const a=M(e),s=X(a,"show"),o=K(),t=W({username:"",password:""});function r(){o.setLoginModal(!1)}function u(){o.setLoginModal(!1),o.setRegisterModal(!0)}const d=we(async()=>{if(!t.username||!t.password)return R("请将表单填写完整!");const{code:m,message:l}=await ke.post("frontend/user/login",t);m===200&&(R({type:"success",content:l}),window.location.reload())});return(m,l)=>(y(),T("div",{class:te(["modal-wrap modal-sign-in-wrap",s.value?"active":""])},[l[7]||(l[7]=i("span",{class:"center-helper"},null,-1)),i("div",bt,[l[6]||(l[6]=i("h2",{class:"modal-title"},"登录",-1)),i("a",{href:"javascript:;",class:"modal-close",onClick:r},l[3]||(l[3]=[i("i",{class:"icon icon-close-black"},null,-1)])),i("div",Pt,[i("form",Tt,[i("div",St,[C(i("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>p(t).username=c),type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,512),[[B,p(t).username]]),l[4]||(l[4]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("div",Et,[C(i("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>p(t).password=c),type:"password",placeholder:"密码",class:"base-input",autocomplete:"off",name:"password"},null,512),[[B,p(t).password]]),l[5]||(l[5]=i("p",{class:"error-info input-info hidden"},"长度至少 6 位",-1))]),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-yellow",onClick:l[2]||(l[2]=(...c)=>p(d)&&p(d)(...c))},"确认登录"),i("a",{href:"javascript:;",class:"btn sign-up-btn btn-blue block",onClick:u},"我要注册")])])])],2))}}),xt={class:"global-nav"},Lt={class:"wrap"},$t={class:"left-part"},At={class:"main-nav"},It={key:0,class:"right-part"},Ct={class:"nav-search"},Mt={key:0,class:"nav-me"},Bt=["src"],Vt={key:1,class:"nav-me"},Ot=["src"],Dt=A({name:"GlobalNavigation",__name:"global-navigation",props:{isBackend:{type:Boolean}},setup(e){const a=M(e),s=X(a,"isBackend"),o=K(),t=M(o),r=X(t,"cookies"),u=H(()=>!!r.value.user);function d(){o.setLoginModal(!0)}const m=We();function l(c){const f=c.target.value;if(f==="")return!1;m.replace(`/search/${f}`)}return(c,f)=>{const b=fe("router-link");return y(),T("nav",xt,[i("div",Lt,[i("div",$t,[k(b,{to:"/","active-class":"current",exact:"",class:"logo-link"},{default:L(()=>f[1]||(f[1]=[i("i",{class:"icon icon-nav-logo"},null,-1),i("span",{class:"hidden"},"M.M.F 小屋",-1)])),_:1}),i("div",At,[k(b,{to:"/","active-class":"current",exact:"",class:"nav-link"},{default:L(()=>f[2]||(f[2]=[i("i",{class:"icon icon-nav-home"},null,-1),i("span",{class:"text"},"首页",-1)])),_:1}),k(b,{to:"/trending/visit","active-class":"current",class:"nav-link"},{default:L(()=>f[3]||(f[3]=[i("i",{class:"icon icon-nav-explore"},null,-1),i("span",{class:"text"},"热门",-1)])),_:1}),k(b,{to:"/about","active-class":"current",class:"nav-link"},{default:L(()=>f[4]||(f[4]=[i("i",{class:"icon icon-nav-features"},null,-1),i("span",{class:"text"},"关于",-1)])),_:1}),f[5]||(f[5]=i("a",{href:"https://handle.mmxiaowu.com/",target:"_blank",class:"nav-link"},[i("i",{class:"icon icon-nav-game"}),i("span",{class:"text"},"汉兜")],-1))])]),s.value?ce("",!0):(y(),T("div",It,[i("span",Ct,[f[6]||(f[6]=i("i",{class:"icon icon-search-white"},null,-1)),i("input",{placeholder:"记得按回车哦",name:"search",class:"nav-search-input",onKeyup:f[0]||(f[0]=De(h=>l(h),["enter"]))},null,32)]),p(u)?(y(),T("span",Mt,[k(b,{to:"/user/account",class:"nav-me-link"},{default:L(()=>[i("img",{src:("useAvatar"in c?c.useAvatar:p(re))(r.value.useremail,100),class:"nav-avatar-img"},null,8,Bt)]),_:1})])):(y(),T("span",Vt,[i("a",{href:"javascript:;",class:"nav-me-link",onClick:d},[i("img",{src:("useAvatar"in c?c.useAvatar:p(re))("noavatar"),class:"nav-avatar-img"},null,8,Ot)])]))]))])])}}}),Wt=A({name:"AppRoot",__name:"app",setup(e){const n=K(),{showLoginModal:a,showRegisterModal:s}=M(n),o=ne(),{pageTransitionName:t}=ee(o),r=x("frontend-index,frontend-about"),u=me(),d=H(()=>(u.meta.path||u.path).replace(/\//g,"_")),m=H(()=>u.path.includes("backend"));function l(){o.setPageSwitching(!0)}function c(){o.setPageSwitching(!1)}return(f,b)=>{const h=Dt,v=fe("router-view"),E=Rt,I=yt,g=pt,S=ut,$=ve,w=lt;return y(),T("div",{class:te(m.value?"backend":"frontend")},[k(h,{"is-backend":m.value},null,8,["is-backend"]),k(v,{class:"app-view relative"},{default:L(({Component:N})=>[k(Ne,{name:p(t),mode:"out-in",onBeforeEnter:l,onAfterEnter:c},{default:L(()=>[(y(),Y(Ue,{key:d.value,include:r.value},[(y(),Y(qe,null,{default:L(()=>[(y(),Y(Fe(N),{key:d.value}))]),_:2},1024))],1032,["include"]))]),_:2},1032,["name"])]),_:1}),k(E,{show:p(a)},null,8,["show"]),k(I,{show:p(s)},null,8,["show"]),k(g),k(w,null,{default:L(()=>[k(S),k($)]),_:1})],2)}}}),Nt=()=>_(()=>import("./404-HMc2HvVo.js"),__vite__mapDeps([2,3,0,1,4])),z=()=>_(()=>import("./frontend-index-DpdJ197F.js"),__vite__mapDeps([5,6,0,1,3,7,4])),Ut=()=>_(()=>import("./frontend-article-BB3oTOvB.js"),__vite__mapDeps([8,6,0,1,3,9,7,4])),qt=()=>_(()=>import("./frontend-about-D6Eiwdof.js"),__vite__mapDeps([10,3,0,1,4])),Ft=()=>_(()=>import("./frontend-user-AGWzg4AP.js"),__vite__mapDeps([11,0,1,4])),jt=()=>_(()=>import("./frontend-user-account-DCYpUGnB.js"),__vite__mapDeps([12,13,0,1,4])),zt=()=>_(()=>import("./frontend-user-password-eH9wKWWM.js"),__vite__mapDeps([14,13,0,1,4])),Ht=()=>_(()=>import("./backend-login-DdPeNnOi.js"),__vite__mapDeps([15,13,0,1,4])),Xt=()=>_(()=>import("./backend-index-Bw-Ho1e5.js"),__vite__mapDeps([16,0,1])),Kt=()=>_(()=>import("./backend-article-list-Da4w17lI.js"),__vite__mapDeps([17,0,1,18,4])),Gt=()=>_(()=>import("./backend-article-insert-Dmj6K7Z9.js"),__vite__mapDeps([19,13,0,1,7,18,20,4])),Yt=()=>_(()=>import("./backend-article-modify-CcXEN6q5.js"),__vite__mapDeps([21,13,0,1,7,18,20,4])),Jt=()=>_(()=>import("./backend-article-comment-DbCFcplQ.js"),__vite__mapDeps([22,0,1,9,4])),Qt=()=>_(()=>import("./backend-category-list-Q1-YjIEk.js"),__vite__mapDeps([23,7,0,1,4])),Zt=()=>_(()=>import("./backend-category-insert-B6iFG82P.js"),__vite__mapDeps([24,13,0,1,7,4])),en=()=>_(()=>import("./backend-category-modify-TcTX7g8a.js"),__vite__mapDeps([25,13,0,1,7,4])),tn=()=>_(()=>import("./backend-admin-list-DfVAe0rg.js"),__vite__mapDeps([26,0,1,27,4])),nn=()=>_(()=>import("./backend-admin-modify-DEaBiHsD.js"),__vite__mapDeps([28,13,0,1,27,4])),on=()=>_(()=>import("./backend-user-list-BG8X8qA1.js"),__vite__mapDeps([29,0,1,30,4])),sn=()=>_(()=>import("./backend-user-modify-D--GOHZv.js"),__vite__mapDeps([31,13,0,1,30,4]));function an(e,n,a){const s=_e.get("user");ge&&!s?a("/"):a()}function rn(e,n,a){const s=_e.get("b_user");ge&&!s?a("/backend/login"):a()}const P={meta:{index:1,path:"/backend"},beforeEnter:rn},ln=[{path:"/index.html",redirect:"/"},{name:"index",path:"/",component:z,meta:{index:1}},{name:"trending",path:"/trending/:by",component:z,meta:{index:1}},{name:"category",path:"/category/:id",component:z,meta:{index:1}},{name:"search",path:"/search/:key",component:z,meta:{index:1}},{name:"article",path:"/article/:id",component:Ut,meta:{index:2}},{name:"about",path:"/about",component:qt,meta:{index:1}},{name:"account",path:"/user",component:Ft,meta:{index:1},beforeEnter:an,children:[{path:"account",component:jt,meta:{path:"/user"}},{path:"password",component:zt,meta:{path:"/user"}}]},{name:"backend",path:"/backend",component:Xt,redirect:"/backend/article/list",children:[{name:"login",path:"login",component:Ht},{name:"admin_list",path:"admin/list",component:tn,...P},{name:"admin_modify",path:"admin/modify/:id",component:nn,...P},{name:"article_list",path:"article/list",component:Kt,...P},{name:"article_insert",path:"article/insert",component:Gt,...P},{name:"article_modify",path:"article/modify/:id",component:Yt,...P},{name:"article_comment",path:"article/comment/:id",component:Jt,...P},{name:"category_list",path:"category/list",component:Qt,...P},{name:"category_insert",path:"category/insert",component:Zt,...P},{name:"category_modify",path:"category/modify/:id",component:en,...P},{name:"user_list",path:"user/list",component:on,...P},{name:"user_modify",path:"user/modify/:id",component:sn,...P}]},{name:"404",path:"/:catchAll(.*)",component:Nt}];function cn(e){const n=je({history:ze(),routes:ln}),a="slide-left",s="slide-right";return n.beforeEach((o,t,r)=>{const u=ne(e),{needPageTransition:d}=ee(u);if(d.value){let m;!t.meta.index||o.meta.index===t.meta.index?m="fade":o.meta.index>t.meta.index?m=a:m=s,u.setPageTransitionName(m)}r()}),n}console.log("当前环境: production");function un(){const e=He(Wt),n=de(),a=cn(n),s=Xe();return e.use(n).use(a).use(s).use(it),{app:e,router:a,store:n,head:s}}he.use(Ke,{Prism:Ge,codeHighlightExtensionMap:{vue:"html"}}).use(Ye());const{app:ie,router:le,store:ye}=un();le.isReady().then(()=>{le.beforeResolve(async(e,n)=>{let a=!1;const s=e.matched.filter((o,t)=>a||(a=n.matched[t]!==o)||n.path!==e.path);if(!s.length)return!1;await Promise.all(s.map(o=>{var r;const t=(r=o.components)==null?void 0:r.default;return t.asyncData?t.asyncData({store:ye,route:e}):!0}))}),ie.component("ReloadPrompt",ve),ie.use(Je.LoadingPlugin,{canCancel:!1,loader:"dots",color:"#54d9e0"}).use(he).mount("#app"),console.log("client router ready")});window.__INITIAL_STATE__&&(ye.state.value=window.__INITIAL_STATE__);export{lt as _,K as a,we as b,ke as c,re as d,fn as e,ne as f,R as s,_n as u};
