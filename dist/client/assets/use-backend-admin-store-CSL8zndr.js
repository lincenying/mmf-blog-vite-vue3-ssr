import{p as g,h as u,t as v}from"./vendor-BLXAojGb.js";import{c}from"./main-BpQZ0DlM.js";const I=g("backendAdminStore",()=>{const a=u({lists:{hasNext:0,hasPrev:0,path:"",page:1,data:[]},item:{data:null,path:""}}),l=async(t,s=c)=>{if(a.lists.data.length>0&&t.path===a.lists.path&&t.page===1)return;const{code:e,data:i}=await s.get("backend/admin/list",{...t,path:void 0});if(e===200&&i){const{list:d=[],path:h,hasNext:x=0,hasPrev:f=0,page:n}={...i,path:t.path,page:t.page};a.lists={data:n===1?d:a.lists.data.concat(d),hasNext:x,hasPrev:f,page:(n||1)+1,path:h}}},p=async(t,s=c)=>{const{code:e,data:i}=await s.get("backend/admin/item",{...t,path:void 0});e===200&&i&&(a.item={data:i,...t})},o=t=>{a.item.data=t;const s=a.lists.data.findIndex(e=>e._id===t._id);s>-1&&a.lists.data.splice(s,1,t)},m=t=>{const s=a.lists.data.findIndex(e=>e._id===t);s>-1&&a.lists.data.splice(s,1,{...a.lists.data[s],is_delete:1})},r=t=>{const s=a.lists.data.findIndex(e=>e._id===t);s>-1&&a.lists.data.splice(s,1,{...a.lists.data[s],is_delete:0})};return{...v(a),getAdminList:l,getAdminItem:p,updateAdminItem:o,deleteAdmin:m,recoverAdmin:r}});export{I as u};
