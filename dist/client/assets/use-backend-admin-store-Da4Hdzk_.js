import{h as v,v as c,f as l}from"./main-BCpYjCEU.js";const A=v("backendAdminStore",()=>{const a=c.reactive({lists:{hasNext:0,hasPrev:0,path:"",page:1,data:[]},item:{data:null,path:""}}),o=async(t,e=l)=>{if(a.lists.data.length>0&&t.path===a.lists.path&&t.page===1)return;const{code:s,data:i}=await e.get("backend/admin/list",{...t,path:void 0});if(s===200&&i){const{list:d=[],path:x,hasNext:f=0,hasPrev:u=0,page:n}={...i,path:t.path,page:t.page};a.lists={data:n===1?d:a.lists.data.concat(d),hasNext:f,hasPrev:u,page:(n||1)+1,path:x}}},p=async(t,e=l)=>{const{code:s,data:i}=await e.get("backend/admin/item",{...t,path:void 0});s===200&&i&&(a.item={data:i,...t})},m=t=>{a.item.data=t;const e=a.lists.data.findIndex(s=>s._id===t._id);e>-1&&a.lists.data.splice(e,1,t)},r=t=>{const e=a.lists.data.findIndex(s=>s._id===t);e>-1&&a.lists.data.splice(e,1,{...a.lists.data[e],is_delete:1})},h=t=>{const e=a.lists.data.findIndex(s=>s._id===t);e>-1&&a.lists.data.splice(e,1,{...a.lists.data[e],is_delete:0})};return{...c.toRefs(a),getAdminList:o,getAdminItem:p,updateAdminItem:m,deleteAdmin:r,recoverAdmin:h}}),_=A;export{_ as u};
