import{m as f,h as A,t as u}from"./vendor-C8cObGch.js";import{c as l}from"./main-Bpljy6lB.js";const _=f("backendArticleStore",()=>{const a=A({lists:{data:[],path:"",key:"",hasNext:0,hasPrev:0,page:1},item:{data:null,path:""}}),n=async(t,e=l)=>{if(a.lists.data.length>0&&t.path===a.lists.path&&t.key===a.lists.key&&t.page===1)return;const{code:s,data:i}=await e.get("backend/article/list",{...t,path:void 0});if(s===200&&i){const{list:d=[],path:x,hasNext:k=0,hasPrev:y=0,page:c}={...i,path:t.path,page:t.page};a.lists={data:c===1?d:a.lists.data.concat(d),hasNext:k,hasPrev:y,page:(c||1)+1,path:x,key:t.key}}},r=async(t,e=l)=>{const{code:s,data:i}=await e.get("backend/article/item",{...t,path:void 0});s===200&&i&&(a.item={data:i,...t})},p=async t=>{const e=a.lists.data.findIndex(s=>s._id===t);e>-1&&a.lists.data.splice(e,1,{...a.lists.data[e],is_delete:1})},o=async t=>{const e=a.lists.data.findIndex(s=>s._id===t);e>-1&&a.lists.data.splice(e,1,{...a.lists.data[e],is_delete:0})},h=t=>{a.lists.path&&(a.lists.data=[t].concat(a.lists.data))},m=t=>{const e=a.lists.data.findIndex(s=>s._id===t._id);e>-1&&a.lists.data.splice(e,1,t)};return{...u(a),getArticleList:n,getArticleItem:r,deleteArticle:p,recoverArticle:o,insertArticleItem:h,updateArticleItem:m}});export{_ as u};
