import{J as f,A as m,g as y,D as n}from"./main-CTY4IKlK.js";const u=f("globalCategoryStore",()=>{const t=m({lists:[],item:{data:null}}),o=async(e,s=n)=>{if(t.lists.length)return;const{code:i,data:a}=await s.get("backend/category/list",{...e,path:void 0,cache:!0});i===200&&a&&(t.lists=a.list)},c=async(e,s=n)=>{const{code:i,data:a}=await s.get("backend/category/item",{...e,path:void 0});i===200&&a&&(t.item={data:a,...e})},d=e=>{t.lists=[e].concat(t.lists)},l=e=>{t.item.data=e;const s=t.lists.findIndex(i=>i._id===e._id);s>-1&&t.lists.splice(s,1,e)},r=e=>{const s=t.lists.findIndex(i=>i._id===e);s>-1&&t.lists.splice(s,1,{...t.lists[s],is_delete:1})},g=e=>{const s=t.lists.findIndex(i=>i._id===e);s>-1&&t.lists.splice(s,1,{...t.lists[s],is_delete:0})};return{...y(t),getCategoryList:o,getCategoryItem:c,insertCategoryItem:d,updateCategoryItem:l,deleteCategory:r,recoverCategory:g}});export{u};
