import{p as f,h as m,t as p}from"./vendor-CjYDLnoj.js";import{c as o}from"./main-DSyQ4RNn.js";const x=f("globalCategoryStore",()=>{const t=m({lists:[],item:{data:null}}),n=async(e,s=o)=>{if(t.lists.length)return;const{code:i,data:a}=await s.get("backend/category/list",{...e,path:void 0,cache:!0});i===200&&a&&(t.lists=a.list)},c=async(e,s=o)=>{const{code:i,data:a}=await s.get("backend/category/item",{...e,path:void 0});i===200&&a&&(t.item={data:a,...e})},d=e=>{t.lists=[e].concat(t.lists)},r=e=>{t.item.data=e;const s=t.lists.findIndex(i=>i._id===e._id);s>-1&&t.lists.splice(s,1,e)},l=e=>{const s=t.lists.findIndex(i=>i._id===e);s>-1&&t.lists.splice(s,1,{...t.lists[s],is_delete:1})},g=e=>{const s=t.lists.findIndex(i=>i._id===e);s>-1&&t.lists.splice(s,1,{...t.lists[s],is_delete:0})};return{...p(t),getCategoryList:n,getCategoryItem:c,insertCategoryItem:d,updateCategoryItem:r,deleteCategory:l,recoverCategory:g}});export{x as u};
