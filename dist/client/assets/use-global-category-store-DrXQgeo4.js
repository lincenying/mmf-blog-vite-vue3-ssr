import{h as y,v as n,f as a}from"./main-kbEDCC4I.js";const m=y("globalCategoryStore",()=>{const e=n.reactive({lists:[],item:{data:null}}),c=async(s,t)=>{if(t||(t=a),e.lists.length)return;const{code:i,data:o}=await t.get("backend/category/list",{...s,path:void 0,cache:!0});i===200&&o&&(e.lists=o.list)},r=async(s,t)=>{t||(t=a);const{code:i,data:o}=await t.get("backend/category/item",{...s,path:void 0});i===200&&o&&(e.item={data:o,...s})},d=s=>{e.lists=[s].concat(e.lists)},l=s=>{e.item.data=s;const t=e.lists.findIndex(i=>i._id===s._id);t>-1&&e.lists.splice(t,1,s)},g=s=>{const t=e.lists.findIndex(i=>i._id===s);t>-1&&e.lists.splice(t,1,{...e.lists[t],is_delete:1})},f=s=>{const t=e.lists.findIndex(i=>i._id===s);t>-1&&e.lists.splice(t,1,{...e.lists[t],is_delete:0})};return{...n.toRefs(e),getCategoryList:c,getCategoryItem:r,insertCategoryItem:d,updateCategoryItem:l,deleteCategory:g,recoverCategory:f}}),x=m;export{x as u};
