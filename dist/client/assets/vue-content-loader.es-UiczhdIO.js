import{d as g,o as c,c as m,a as B,g as w,t as b,h as N,F as L,q as A,y as M,w as R,b as t,j as d,z as V,n as p,B as j,C as k,D as q,p as _,e as s}from"./main-CTY4IKlK.js";import{u as G}from"./use-frontend-article-store-VM_8Qz1e.js";const O={class:"card card-other"},W=g({name:"AsideOther",__name:"aside-other",setup(u){return(n,o)=>(c(),m("div",O,o[0]||(o[0]=[B('<div class="card-content"><ul class="other-item"><li>当前版本: v3.0.0</li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3" target="_blank">Vue3版(Spa+Pwa)</a></li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3-ssr" target="_blank">服务端渲染版(Ssr+Pwa)</a></li><li>网站备案号: <a href="http://beian.miit.gov.cn" target="_blank">浙ICP备15010753号-1</a></li></ul></div>',1)])))}}),P="/static/images/topic-1.png",K={class:"card card-topics"},U={class:"topic-title"},F={class:"topic-meta"},X=g({name:"AsideCategory",__name:"aside-category",props:{category:{}},setup(u){const o=w(u),a=b(o,"category");return(h,r)=>{const f=N("router-link");return c(),m("div",K,[(c(!0),m(L,null,A(a.value,e=>(c(),M(f,{key:e._id,to:`/category/${e._id}`,class:"topic-item"},{default:R(()=>[r[1]||(r[1]=t("span",{class:"avatar-link"},[t("img",{src:P,class:"avatar-image",alt:""})],-1)),t("div",null,[t("h3",U,d(e.cate_name),1),t("p",F,d(e.cate_num||0)+" 篇文章",1),r[0]||(r[0]=t("i",{class:"icon icon-arrow-right"},null,-1))])]),_:2},1032,["to"]))),128))])}}}),I={class:"actions-wrap"},z={class:"text"},D={class:"text"},E={href:"javascript:;",class:"action-item"},Y={class:"text"},H={href:"javascript:;",class:"action-item action-item-fav"},J={class:"text"},Z=g({name:"ItemActions",__name:"item-actions",props:{item:{}},setup(u){const o=w(u),a=b(o,"item"),h=V(),r=w(h),f=b(r,"cookies"),e=G(),x=p(()=>!!f.value.user),y=j(async()=>{if(!x.value){k("请先登录!"),h.setLoginModal(!0);return}let v="frontend/like";a.value.like_status&&(v="frontend/unlike");const{code:i,message:l}=await q.get(v,{id:a.value._id});i===200&&(k({type:"success",content:l}),e.modifyLikeStatus({id:a.value._id,status:!a.value.like_status}))});function S(){const v=window.screen.height/2-250,i=window.screen.width/2-300,l=`${a.value.title} - M.M.F 小屋`,$=`https://www.mmxiaowu.com/article/${a.value._id}`;window.open(`http://service.weibo.com/share/share.php?title=${encodeURIComponent(l.replace(/&nbsp;/g," ").replace(/<br \/>/g," "))}&url=${encodeURIComponent($)}`,"分享至新浪微博",`height=500, width=600, top=${v}, left=${i}, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no`)}return(v,i)=>(c(),m("div",I,[a.value.like_status?(c(),m("a",{key:0,href:"javascript:;",class:"action-item active",onClick:i[0]||(i[0]=(...l)=>_(y)&&_(y)(...l))},[i[2]||(i[2]=t("i",{class:"icon icon-action-voteup-active"},null,-1)),t("span",z,d(a.value.like)+" 赞",1)])):(c(),m("a",{key:1,href:"javascript:;",class:"action-item",onClick:i[1]||(i[1]=(...l)=>_(y)&&_(y)(...l))},[i[3]||(i[3]=t("i",{class:"icon icon-action-voteup"},null,-1)),t("span",D,d(a.value.like)+" 赞",1)])),t("a",E,[i[4]||(i[4]=t("i",{class:"icon icon-action-comment"},null,-1)),t("span",Y,d(a.value.comment_count)+" 评论",1)]),t("a",H,[i[5]||(i[5]=t("i",{class:"icon icon-action-fav"},null,-1)),t("span",J,d(a.value.visit)+" 浏览",1)]),t("a",{href:"javascript:;",class:"action-item",onClick:S},i[6]||(i[6]=[t("i",{class:"icon icon-action-share"},null,-1),t("span",{class:"text"},"分享",-1)]))]))}});var C=function(){return Math.random().toString(36).substring(2)},tt=g({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(n){var o=p(function(){return n.uniqueKey?"".concat(n.uniqueKey,"-idClip"):C()}),a=p(function(){return n.uniqueKey?"".concat(n.uniqueKey,"-idGradient"):C()}),h=p(function(){var e;return(e=n.width)!==null&&e!==void 0?e:400}),r=p(function(){var e;return(e=n.height)!==null&&e!==void 0?e:130}),f=p(function(){var e;return(e=n.viewBox)!==null&&e!==void 0?e:"0 0 ".concat(h.value," ").concat(r.value)});return{idClip:o,idGradient:a,computedViewBox:f}},render:function(){return s("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[s("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),s("defs",null,[s("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():s("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),s("linearGradient",{id:this.idGradient},[s("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?s("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),s("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?s("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),s("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?s("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});export{tt as C,Z as _,X as a,W as b};
