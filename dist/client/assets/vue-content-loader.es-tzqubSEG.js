import{v as e,c as N,d as v,e as m,f as V}from"./main-BBnOZaJ_.js";import{u as w}from"./use-frontend-article-store-BOVOJ0x2.js";const _={class:"card card-other"},G=e.defineComponent({name:"AsideOther",__name:"aside-other",setup(a){return(t,n)=>(e.openBlock(),e.createElementBlock("div",_,n[0]||(n[0]=[e.createStaticVNode('<div class="card-content"><ul class="other-item"><li>当前版本: v3.0.0</li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3" target="_blank">Vue3版(Spa+Pwa)</a></li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3-ssr" target="_blank">服务端渲染版(Ssr+Pwa)</a></li><li>网站备案号: <a href="http://beian.miit.gov.cn" target="_blank">浙ICP备15010753号-1</a></li></ul></div>',1)])))}}),k="/static/images/topic-1.png",C={class:"card card-topics"},b={class:"topic-title"},E={class:"topic-meta"},O=e.defineComponent({name:"AsideCategory",__name:"aside-category",props:{category:{}},setup(a){const t=a,n=e.toRefs(t),r=e.toRef(n,"category");return(s,c)=>{const d=e.resolveComponent("router-link");return e.openBlock(),e.createElementBlock("div",C,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,i=>(e.openBlock(),e.createBlock(d,{key:i._id,to:`/category/${i._id}`,class:"topic-item"},{default:e.withCtx(()=>[c[1]||(c[1]=e.createElementVNode("span",{class:"avatar-link"},[e.createElementVNode("img",{src:k,class:"avatar-image",alt:""})],-1)),e.createElementVNode("div",null,[e.createElementVNode("h3",b,e.toDisplayString(i.cate_name),1),e.createElementVNode("p",E,e.toDisplayString(i.cate_num||0)+" 篇文章",1),c[0]||(c[0]=e.createElementVNode("i",{class:"icon icon-arrow-right"},null,-1))])]),_:2},1032,["to"]))),128))])}}}),S={class:"actions-wrap"},B={class:"text"},$={class:"text"},R={href:"javascript:;",class:"action-item"},L={class:"text"},A={href:"javascript:;",class:"action-item action-item-fav"},M={class:"text"},j=e.defineComponent({name:"ItemActions",__name:"item-actions",props:{item:{}},setup(a){const t=a,n=e.toRefs(t),r=e.toRef(n,"item"),s=N(),c=e.toRefs(s),d=e.toRef(c,"cookies"),i=w(),f=e.computed(()=>!!d.value.user),p=v(async()=>{if(!f.value){m("请先登录!"),s.setLoginModal(!0);return}let u="frontend/like";r.value.like_status&&(u="frontend/unlike");const{code:o,message:l}=await V.get(u,{id:r.value._id});o===200&&(m({type:"success",content:l}),i.modifyLikeStatus({id:r.value._id,status:!r.value.like_status}))});function g(){const u=window.screen.height/2-250,o=window.screen.width/2-300,l=`${r.value.title} - M.M.F 小屋`,x=`https://www.mmxiaowu.com/article/${r.value._id}`;window.open(`http://service.weibo.com/share/share.php?title=${encodeURIComponent(l.replace(/&nbsp;/g," ").replace(/<br \/>/g," "))}&url=${encodeURIComponent(x)}`,"分享至新浪微博",`height=500, width=600, top=${u}, left=${o}, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no`)}return(u,o)=>(e.openBlock(),e.createElementBlock("div",S,[r.value.like_status?(e.openBlock(),e.createElementBlock("a",{key:0,href:"javascript:;",class:"action-item active",onClick:o[0]||(o[0]=(...l)=>e.unref(p)&&e.unref(p)(...l))},[o[2]||(o[2]=e.createElementVNode("i",{class:"icon icon-action-voteup-active"},null,-1)),e.createElementVNode("span",B,e.toDisplayString(r.value.like)+" 赞",1)])):(e.openBlock(),e.createElementBlock("a",{key:1,href:"javascript:;",class:"action-item",onClick:o[1]||(o[1]=(...l)=>e.unref(p)&&e.unref(p)(...l))},[o[3]||(o[3]=e.createElementVNode("i",{class:"icon icon-action-voteup"},null,-1)),e.createElementVNode("span",$,e.toDisplayString(r.value.like)+" 赞",1)])),e.createElementVNode("a",R,[o[4]||(o[4]=e.createElementVNode("i",{class:"icon icon-action-comment"},null,-1)),e.createElementVNode("span",L,e.toDisplayString(r.value.comment_count)+" 评论",1)]),e.createElementVNode("a",A,[o[5]||(o[5]=e.createElementVNode("i",{class:"icon icon-action-fav"},null,-1)),e.createElementVNode("span",M,e.toDisplayString(r.value.visit)+" 浏览",1)]),e.createElementVNode("a",{href:"javascript:;",class:"action-item",onClick:g},o[6]||(o[6]=[e.createElementVNode("i",{class:"icon icon-action-share"},null,-1),e.createElementVNode("span",{class:"text"},"分享",-1)]))]))}});var y=function(){return Math.random().toString(36).substring(2)},h=e.defineComponent({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(t){var n=e.computed(function(){return t.uniqueKey?"".concat(t.uniqueKey,"-idClip"):y()}),r=e.computed(function(){return t.uniqueKey?"".concat(t.uniqueKey,"-idGradient"):y()}),s=e.computed(function(){var i;return(i=t.width)!==null&&i!==void 0?i:400}),c=e.computed(function(){var i;return(i=t.height)!==null&&i!==void 0?i:130}),d=e.computed(function(){var i;return(i=t.viewBox)!==null&&i!==void 0?i:"0 0 ".concat(s.value," ").concat(c.value)});return{idClip:n,idGradient:r,computedViewBox:d}},render:function(){return e.createVNode("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[e.createVNode("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),e.createVNode("defs",null,[e.createVNode("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():e.createVNode("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),e.createVNode("linearGradient",{id:this.idGradient},[e.createVNode("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e.createVNode("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e.createVNode("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?e.createVNode("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),e.createVNode("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?e.createVNode("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});e.defineComponent(function(a,t){var n=t.attrs;return function(){return e.createVNode(h,n,{default:function(){return[e.createVNode("circle",{cx:"10",cy:"20",r:"8"},null),e.createVNode("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"},null),e.createVNode("circle",{cx:"10",cy:"50",r:"8"},null),e.createVNode("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"},null),e.createVNode("circle",{cx:"10",cy:"80",r:"8"},null),e.createVNode("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"},null),e.createVNode("circle",{cx:"10",cy:"110",r:"8"},null),e.createVNode("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"},null)]}})}});e.defineComponent(function(a,t){var n=t.attrs;return function(){return e.createVNode(h,n,{default:function(){return[e.createVNode("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"},null),e.createVNode("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"},null),e.createVNode("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"},null),e.createVNode("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),e.createVNode("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"},null),e.createVNode("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"},null),e.createVNode("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),e.createVNode("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"},null),e.createVNode("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"},null)]}})}});e.defineComponent(function(a,t){var n=t.attrs;return function(){return e.createVNode(h,n,{default:function(){return[e.createVNode("rect",{x:"70",y:"15",rx:"4",ry:"4",width:"117",height:"6.4"},null),e.createVNode("rect",{x:"70",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"},null),e.createVNode("rect",{x:"0",y:"80",rx:"3",ry:"3",width:"350",height:"6.4"},null),e.createVNode("rect",{x:"0",y:"100",rx:"3",ry:"3",width:"380",height:"6.4"},null),e.createVNode("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"201",height:"6.4"},null),e.createVNode("circle",{cx:"30",cy:"30",r:"30"},null)]}})}});e.defineComponent(function(a,t){var n=t.attrs;return function(){return e.createVNode(h,n,{default:function(){return[e.createVNode("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"},null),e.createVNode("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"},null),e.createVNode("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"},null),e.createVNode("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"},null),e.createVNode("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"},null),e.createVNode("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"},null)]}})}});e.defineComponent(function(a,t){var n=t.attrs;return function(){return e.createVNode(h,e.mergeProps(n,{viewBox:"0 0 400 480"}),{default:function(){return[e.createVNode("circle",{cx:"30",cy:"30",r:"30"},null),e.createVNode("rect",{x:"75",y:"13",rx:"4",ry:"4",width:"100",height:"13"},null),e.createVNode("rect",{x:"75",y:"37",rx:"4",ry:"4",width:"50",height:"8"},null),e.createVNode("rect",{x:"0",y:"70",rx:"5",ry:"5",width:"400",height:"400"},null)]}})}});export{h as C,j as _,O as a,G as b};
