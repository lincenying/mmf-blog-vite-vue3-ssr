import{e as R,b as C,s as M,c as V,_ as U}from"../entry-server.js";import{_ as S}from"./a-input-BeZLXpwF.js";import{defineComponent as A,reactive as F,onMounted as L,ref as T,mergeProps as j,withCtx as _,unref as o,withDirectives as w,createVNode as i,vModelText as b,useSSRContext as B}from"vue";import{ssrRenderAttrs as D,ssrRenderComponent as l,ssrRenderAttr as v}from"vue/server-renderer";import G from"js-cookie";import{useRouter as H}from"vue-router";import{useHead as N}from"@unhead/vue";import"node:path";import"@unhead/vue/server";import"@vue/server-renderer";import"pinia";import"./vendor-Dh2hNSeG.js";import"@vueuse/core";import"@vue/shared";import"@popperjs/core";import"lodash-unified";import"dayjs";import"dayjs/plugin/localeData.js";import"dayjs/plugin/customParseFormat.js";import"dayjs/plugin/advancedFormat.js";import"dayjs/plugin/weekOfYear.js";import"dayjs/plugin/weekYear.js";import"dayjs/plugin/dayOfYear.js";import"dayjs/plugin/isSameOrAfter.js";import"dayjs/plugin/isSameOrBefore.js";import"normalize-wheel-es";import"@element-plus/icons-vue";import"@ctrl/tinycolor";import"@lincy/utils";import"md5";import"axios";import"qs";import"lru-cache";import"node:process";const $=A({name:"BackendLogin",__name:"backend-login",__ssrInlineRender:!0,setup(c){const{ctx:p}=R(),s=H(),e=F({username:"",password:""});C(async()=>{if(!e.username||!e.password)return M("请输入用户名和密码!");const u=p.$loading.show(),{code:t,data:r}=await V.post("backend/admin/login",e);u.hide(),t===200&&r&&s.push("/backend/article/list")}),L(()=>{G.get("b_user")&&s.push("/backend/article/list")});const d=T("管理员登录 - M.M.F 小屋");return N({title:d,meta:[{name:"description",content:d}]}),(u,t,r,x)=>{const f=S,k=U;t(`<div${D(j({class:"settings-main card"},x))}><div class="settings-main-content"><form>`),t(l(f,{title:"账号"},{default:_((y,n,h,a)=>{if(n)n(`<input${v("value",o(e).username)} type="text" placeholder="请输入管理员账号" class="base-input" name="username"${a}><span class="input-info error"${a}>请输入昵称</span>`);else return[w(i("input",{"onUpdate:modelValue":m=>o(e).username=m,type:"text",placeholder:"请输入管理员账号",class:"base-input",name:"username"},null,8,["onUpdate:modelValue"]),[[b,o(e).username]]),i("span",{class:"input-info error"},"请输入昵称")]}),_:1},r)),t(l(f,{title:"密码"},{default:_((y,n,h,a)=>{if(n)n(`<input${v("value",o(e).password)} type="password" placeholder="请输入管理员密码" class="base-input" name="password"${a}><span class="input-info error"${a}>请输入密码</span>`);else return[w(i("input",{"onUpdate:modelValue":m=>o(e).password=m,type:"password",placeholder:"请输入管理员密码",class:"base-input",name:"password"},null,8,["onUpdate:modelValue"]),[[b,o(e).password]]),i("span",{class:"input-info error"},"请输入密码")]}),_:1},r)),t('</form></div><div class="settings-footer"><a href="javascript:;" class="btn btn-yellow">登录</a></div>'),t(l(k,null,null,r)),t("</div>")}}}),g=$.setup;$.setup=(c,p)=>{const s=B();return(s.modules||(s.modules=new Set)).add("src/pages/backend-login.vue"),g?g(c,p):void 0};export{$ as default};
