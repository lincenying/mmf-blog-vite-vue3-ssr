import{_ as C}from"./a-input-BeZLXpwF.js";import{defineComponent as M,toRef as T,reactive as h,watch as P,onMounted as A,ref as D,resolveComponent as N,mergeProps as j,withCtx as c,unref as r,withDirectives as g,createVNode as i,vModelText as y,createTextVNode as B,useSSRContext as F}from"vue";import{ssrRenderAttrs as H,ssrRenderComponent as f,ssrRenderAttr as $}from"vue/server-renderer";import{u as U}from"./use-backend-user-store-CEmzNvjU.js";import{useRoute as L,useRouter as q}from"vue-router";import{storeToRefs as z}from"pinia";import{useToggle as E}from"@vueuse/core";import"../entry-server.js";import{useHead as G}from"@unhead/vue";import"node:path";import"@unhead/vue/server";import"@vue/server-renderer";import"element-plus";import"@lincy/utils";import"md5";import"axios";import"qs";import"js-cookie";import"lru-cache";import"node:process";const R=M({name:"BackendUserModify",asyncData(p){const{store:l,route:s,api:_}=p;return U(l).getUserItem({id:s.params.id,path:s.fullPath,from:"backend"},_)},__name:"backend-user-modify",__ssrInlineRender:!0,setup(p){const l=L();q();const s=U(),_=z(s),o=T(_,"item"),[I,J]=E(!1),e=h({id:l.params.id,username:"",email:"",password:""});P(o.value,d=>{d.data&&(e.username=d.data.username,e.email=d.data.email)}),A(async()=>{o.value&&o.value.data&&(e.username=o.value.data.username,e.email=o.value.data.email)});const x=D("用户编辑 - M.M.F 小屋");return G({title:x,meta:[{name:"description",content:x}]}),(d,n,u,V)=>{const v=C,S=N("router-link");n(`<div${H(j({class:"settings-main card"},V))}><div class="settings-main-content"><form>`),n(f(v,{title:"昵称"},{default:c((b,t,w,a)=>{if(t)t(`<input${$("value",r(e).username)} type="text" placeholder="昵称" class="base-input" name="username"${a}><span class="input-info error"${a}>请输入昵称</span>`);else return[g(i("input",{"onUpdate:modelValue":m=>r(e).username=m,type:"text",placeholder:"昵称",class:"base-input",name:"username"},null,8,["onUpdate:modelValue"]),[[y,r(e).username]]),i("span",{class:"input-info error"},"请输入昵称")]}),_:1},u)),n(f(v,{title:"邮箱"},{default:c((b,t,w,a)=>{if(t)t(`<input${$("value",r(e).email)} type="text" placeholder="邮箱" class="base-input" name="email"${a}><span class="input-info error"${a}>请输入邮箱</span>`);else return[g(i("input",{"onUpdate:modelValue":m=>r(e).email=m,type:"text",placeholder:"邮箱",class:"base-input",name:"email"},null,8,["onUpdate:modelValue"]),[[y,r(e).email]]),i("span",{class:"input-info error"},"请输入邮箱")]}),_:1},u)),n(f(v,{title:"密码"},{default:c((b,t,w,a)=>{if(t)t(`<input${$("value",r(e).password)} type="password" placeholder="密码" class="base-input" name="password"${a}><span class="input-info error"${a}>请输入密码</span>`);else return[g(i("input",{"onUpdate:modelValue":m=>r(e).password=m,type:"password",placeholder:"密码",class:"base-input",name:"password"},null,8,["onUpdate:modelValue"]),[[y,r(e).password]]),i("span",{class:"input-info error"},"请输入密码")]}),_:1},u)),n('</form></div><div class="settings-footer"><a href="javascript:;" class="btn btn-yellow">编辑用户</a>'),n(f(S,{to:"/backend/user/list",class:"btn btn-blue"},{default:c((b,t,w,a)=>{if(t)t("返回");else return[B("返回")]}),_:1},u)),n("</div></div>")}}}),k=R.setup;R.setup=(p,l)=>{const s=F();return(s.modules||(s.modules=new Set)).add("src/pages/backend-user-modify.vue"),k?k(p,l):void 0};export{R as default};
