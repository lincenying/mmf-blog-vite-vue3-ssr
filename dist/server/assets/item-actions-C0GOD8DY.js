import{defineComponent as g,mergeProps as $,useSSRContext as h,toRefs as v,toRef as f,resolveComponent as P,withCtx as F,createVNode as c,toDisplayString as y,computed as M}from"vue";import{ssrRenderAttrs as k,ssrRenderList as V,ssrRenderComponent as D,ssrRenderAttr as I,ssrInterpolate as r}from"vue/server-renderer";import{a as N,b as O,s as S,c as q}from"../entry-server.js";import{u as z}from"./use-frontend-article-store-BdaVGD8F.js";const A=g({name:"AsideOther",__name:"aside-other",__ssrInlineRender:!0,setup(s){return(i,t,e,l)=>{t(`<div${k($({class:"card card-other"},l))}><div class="card-content"><ul class="other-item"><li>当前版本: v3.0.0</li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3" target="_blank">Vue3版(Spa+Pwa)</a></li><li>项目开源地址: <a href="https://github.com/lincenying/mmf-blog-vite-vue3-ssr" target="_blank">服务端渲染版(Ssr+Pwa)</a></li><li>网站备案号: <a href="http://beian.miit.gov.cn" target="_blank">浙ICP备15010753号-1</a></li></ul></div></div>`)}}}),b=A.setup;A.setup=(s,i)=>{const t=h();return(t.modules||(t.modules=new Set)).add("src/components/aside-other.vue"),b?b(s,i):void 0};const w="/static/images/topic-1.png",j=g({name:"AsideCategory",__name:"aside-category",__ssrInlineRender:!0,props:{category:null},setup(s){const t=v(s),e=f(t,"category");return(l,p,m,d)=>{const _=P("router-link");p(`<div${k($({class:"card card-topics"},d))}><!--[-->`),V(e.value,a=>{p(D(_,{key:a._id,to:`/category/${a._id}`,class:"topic-item"},{default:F((n,u,x,o)=>{if(u)u(`<span class="avatar-link"${o}><img${I("src",w)} class="avatar-image" alt=""${o}></span><div${o}><h3 class="topic-title"${o}>${r(a.cate_name)}</h3><p class="topic-meta"${o}>${r(a.cate_num||0)} 篇文章</p><i class="icon icon-arrow-right"${o}></i></div>`);else return[c("span",{class:"avatar-link"},[c("img",{src:w,class:"avatar-image",alt:""})]),c("div",null,[c("h3",{class:"topic-title"},y(a.cate_name),1),c("p",{class:"topic-meta"},y(a.cate_num||0)+" 篇文章",1),c("i",{class:"icon icon-arrow-right"})])]}),_:2},m))}),p("<!--]--></div>")}}}),C=j.setup;j.setup=(s,i)=>{const t=h();return(t.modules||(t.modules=new Set)).add("src/components/aside-category.vue"),C?C(s,i):void 0};const L=g({name:"ItemActions",__name:"item-actions",__ssrInlineRender:!0,props:{item:null},setup(s){const t=v(s),e=f(t,"item"),l=N(),p=v(l),m=f(p,"cookies"),d=z(),_=M(()=>!!m.value.user);return O(async()=>{if(!_.value){S("请先登录!"),l.setLoginModal(!0);return}let a="frontend/like";e.value.like_status&&(a="frontend/unlike");const{code:n,message:u}=await q.get(a,{id:e.value._id});n===200&&(S({type:"success",content:u}),d.modifyLikeStatus({id:e.value._id,status:!e.value.like_status}))}),(a,n,u,x)=>{n(`<div${k($({class:"actions-wrap"},x))}>`),e.value.like_status?n(`<a href="javascript:;" class="action-item active"><i class="icon icon-action-voteup-active"></i><span class="text">${r(e.value.like)} 赞</span></a>`):n(`<a href="javascript:;" class="action-item"><i class="icon icon-action-voteup"></i><span class="text">${r(e.value.like)} 赞</span></a>`),n(`<a href="javascript:;" class="action-item"><i class="icon icon-action-comment"></i><span class="text">${r(e.value.comment_count)} 评论</span></a><a href="javascript:;" class="action-item action-item-fav"><i class="icon icon-action-fav"></i><span class="text">${r(e.value.visit)} 浏览</span></a><a href="javascript:;" class="action-item"><i class="icon icon-action-share"></i><span class="text">分享</span></a></div>`)}}}),R=L.setup;L.setup=(s,i)=>{const t=h();return(t.modules||(t.modules=new Set)).add("src/components/item-actions.vue"),R?R(s,i):void 0};export{L as _,j as a,A as b};
